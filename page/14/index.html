<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/page/14/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/14/"/>





  <title>Hexo</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2010/09/29/snmp-access-to-cisco-device-information/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2010/09/29/snmp-access-to-cisco-device-information/" itemprop="url">SNMP获取Cisco设备信息</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2010-09-29T22:02:19+08:00">
                2010-09-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/默认分类/" itemprop="url" rel="index">
                    <span itemprop="name">默认分类</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>以下是一些通过OID获取Cisco交换机信息的范例，可以参考一下</p>
<p>具体的名字和OID对应，可以在这个网站查询</p>
<p><a href="http://tools.cisco.com/Support/SNMP/do/BrowseOID.do?objectInput=ifOperStatus&amp;translate=Translate&amp;submitValue=SUBMIT&amp;submitClicked=true" target="_blank" rel="noopener">http://tools.cisco.com/Support/SNMP/do/BrowseOID.do?objectInput=ifOperStatus&amp;translate=Translate&amp;submitValue=SUBMIT&amp;submitClicked=true</a></p>
<h1 id="获取端口Index"><a href="#获取端口Index" class="headerlink" title="获取端口Index"></a>获取端口Index</h1><p>snmpwalk -v 2c -c Pub_PCon9-CT 192.168.232.25 1.3.6.1.2.1.2.2.1.1</p>
<h1 id="获取端口列表及其描述"><a href="#获取端口列表及其描述" class="headerlink" title="获取端口列表及其描述"></a>获取端口列表及其描述</h1><p>snmpwalk -v 2c -c Pub_PCon9-CT 192.168.232.25 1.3.6.1.2.1.2.2.1.2</p>
<h1 id="获取端口Mac地址"><a href="#获取端口Mac地址" class="headerlink" title="获取端口Mac地址"></a>获取端口Mac地址</h1><p>snmpwalk -v 2c -c Pub_PCon9-CT 192.168.232.25 1.3.6.1.2.1.2.2.1.6</p>
<h1 id="获取IP地址对应的Index"><a href="#获取IP地址对应的Index" class="headerlink" title="获取IP地址对应的Index"></a>获取IP地址对应的Index</h1><p>snmpwalk -v 2c -c Pub_PCon9-CT 192.168.232.25 1.3.6.1.2.1.4.20.1.2</p>
<h1 id="获取端口的Up-Down情况"><a href="#获取端口的Up-Down情况" class="headerlink" title="获取端口的Up/Down情况"></a>获取端口的Up/Down情况</h1><p>snmpwalk -v 2c -c Pub_PCon9-CT 192.168.232.25 1.3.6.1.2.1.2.2.1.8</p>
<h1 id="获取端口入流量（Bytes）"><a href="#获取端口入流量（Bytes）" class="headerlink" title="获取端口入流量（Bytes）"></a>获取端口入流量（Bytes）</h1><p>snmpwalk -v 2c -c Pub_PCon9-CT 192.168.232.25 1.3.6.1.2.1.2.2.1.10</p>
<h1 id="获取端口出流量（Bytes）"><a href="#获取端口出流量（Bytes）" class="headerlink" title="获取端口出流量（Bytes）"></a>获取端口出流量（Bytes）</h1><p>snmpwalk -v 2c -c Pub_PCon9-CT 192.168.232.25 1.3.6.1.2.1.2.2.1.16</p>
<h1 id="获取过去5秒的CPU-load-cpu繁忙的百分比"><a href="#获取过去5秒的CPU-load-cpu繁忙的百分比" class="headerlink" title="获取过去5秒的CPU load (cpu繁忙的百分比)"></a>获取过去5秒的CPU load (cpu繁忙的百分比)</h1><p>snmpwalk -v 2c -c Pub_PCon9-CT 192.168.232.25 1.3.6.1.4.1.9.2.1.56.0</p>
<h1 id="获取过去1分钟的CPU-load-cpu繁忙的百分比"><a href="#获取过去1分钟的CPU-load-cpu繁忙的百分比" class="headerlink" title="获取过去1分钟的CPU load (cpu繁忙的百分比)"></a>获取过去1分钟的CPU load (cpu繁忙的百分比)</h1><p>snmpwalk -v 2c -c Pub_PCon9-CT 192.168.232.25 1.3.6.1.4.1.9.2.1.57.0</p>
<h1 id="获取过去5分钟的CPU-load-cpu繁忙的百分比"><a href="#获取过去5分钟的CPU-load-cpu繁忙的百分比" class="headerlink" title="获取过去5分钟的CPU load (cpu繁忙的百分比)"></a>获取过去5分钟的CPU load (cpu繁忙的百分比)</h1><p>snmpwalk -v 2c -c Pub_PCon9-CT 192.168.232.25 1.3.6.1.4.1.9.2.1.58.0</p>
<h1 id="获取内存当前使用情况（bytes）"><a href="#获取内存当前使用情况（bytes）" class="headerlink" title="获取内存当前使用情况（bytes）"></a>获取内存当前使用情况（bytes）</h1><p>snmpwalk -v 2c -c Pub_PCon9-CT 192.168.232.25 1.3.6.1.4.1.9.9.48.1.1.1.5</p>
<h1 id="获取内存当前空闲多少（bytes）"><a href="#获取内存当前空闲多少（bytes）" class="headerlink" title="获取内存当前空闲多少（bytes）"></a>获取内存当前空闲多少（bytes）</h1><p>snmpwalk -v 2c -c Pub_PCon9-CT 192.168.232.25 1.3.6.1.4.1.9.9.48.1.1.1.6</p>
<h1 id="获取设备序列号"><a href="#获取设备序列号" class="headerlink" title="获取设备序列号"></a>获取设备序列号</h1><p>snmpwalk -v 2c -c Pub_PCon9-CT 192.168.232.25 1.3.6.1.2.1.47.1.1.1.1.11.1</p>
<p>或</p>
<p>snmpwalk -v 2c -c Pub_PCon9-CT 192.168.232.25 1.3.6.1.4.1.9.3.6.3.0</p>
<h1 id="获取设备名称"><a href="#获取设备名称" class="headerlink" title="获取设备名称"></a>获取设备名称</h1><p>snmpwalk -v 2c -c Pub_PCon9-CT 192.168.232.25 1.3.6.1.2.1.1.5.0</p>
<h1 id="以下为获取交换机第2个端口（INTEGER-2）所连接主机的MAC地址操作例子"><a href="#以下为获取交换机第2个端口（INTEGER-2）所连接主机的MAC地址操作例子" class="headerlink" title="以下为获取交换机第2个端口（INTEGER: 2）所连接主机的MAC地址操作例子"></a>以下为获取交换机第2个端口（INTEGER: 2）所连接主机的MAC地址操作例子</h1><p>################################### 步骤 1 ##############################</p>
<p>snmpwalk -v 2c -c Pub_PCon9-CT 192.168.232.25 1.3.6.1.2.1.17.4.3.1 | grep -w “INTEGER: 2”</p>
<p>返回结果：</p>
<p>SNMPv2-SMI::mib-2.17.4.3.1.2.0.7.233.63.136.173 = INTEGER: 2</p>
<p>################################### 步骤 2 ##############################</p>
<h1 id="从以上步骤1的返回结果获取粗体字”0-7-233-63-136-173”-，并执行以下命令"><a href="#从以上步骤1的返回结果获取粗体字”0-7-233-63-136-173”-，并执行以下命令" class="headerlink" title="从以上步骤1的返回结果获取粗体字”0.7.233.63.136.173” ，并执行以下命令"></a>从以上步骤1的返回结果获取粗体字”0.7.233.63.136.173” ，并执行以下命令</h1><p>snmpwalk -v 2c -c Pub_PCon9-CT 192.168.232.25 1.3.6.1.2.1.17.4.3.1 | grep “0.7.233.63.136.173” | grep “mib-2.17.4.3.1.1”</p>
<p>返回结果：</p>
<p>SNMPv2-SMI::mib-2.17.4.3.1.1.0.7.233.63.136.173 = Hex-STRING: 00 07 E9 3F 88 AD </p>
<p>00 07 E9 3F 88 AD为交换机的第2口所连接的主机网卡地址</p>
<p>################################### 步骤 3 ##############################</p>
<p>snmpwalk -v 2c -c Pub_PCon9-CT 192.168.232.25 1.3.6.1.2.1.17.1.4.1.2 | grep -w “SNMPv2-SMI::mib-2.17.1.4.1.2.2”   这里的红色2是步骤1的 INTEGER: 2</p>
<p>返回结果：</p>
<p>SNMPv2-SMI::mib-2.17.1.4.1.2.2 = INTEGER: 2</p>
<p>步骤3中获取到的INTEGER: 2才是对应的IfIndex</p>
<p>snmpwalk -v 2c -c Pub_PCon9-CT 192.168.232.41 1.3.6.1.2.1.17.4.3.1.1</p>
<p>snmpwalk -v 2c -c Pub_PCon9-CT 192.168.232.41 1.3.6.1.2.1.17.4.3.1.2</p>
<p>snmpwalk -v 2c -c Pub_PCon9-CT 192.168.232.41 1.3.6.1.2.1.17.1.4.1.2</p>
<p><a href="http://www.cisco.com/en/US/tech/tk648/tk362/technologies\_tech\_note09186a00801576ff.shtml" target="_blank" rel="noopener">http://www.cisco.com/en/US/tech/tk648/tk362/technologies\_tech\_note09186a00801576ff.shtml</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2010/09/28/catalyst-2950-2960-password-recovery-method/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2010/09/28/catalyst-2950-2960-password-recovery-method/" itemprop="url">Catalyst 2950/2960 密码恢复方法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2010-09-28T10:11:50+08:00">
                2010-09-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/默认分类/" itemprop="url" rel="index">
                    <span itemprop="name">默认分类</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>交换机居然密码错误。<br> 在网上找了个文章。  </p>
<p>1.连接好console线；  </p>
<p>2.拔电源，按住mode键插电源，直至1x口LED灯亮两秒以上方可松开mode键，flash初始化过程中断，系统进入“switch:”提示符状态； （正常启动时候按Ctrl+Break也可达到相同效果）；  </p>
<p>3.执行flash_init  </p>
<pre><code>load_helper  

dir flash: (一定要有冒号)  

rename flash:config.text flash:config.old (将startup-config文件改名)  

boot (继续引导)  
</code></pre><p>4.系统提示是否进行初始化，选择no；  </p>
<p>5.执行enable  </p>
<pre><code>  rename flash:config.old flash:config.text （恢复startup-config文件）  

copy flash:config.text system:running-config （恢复running-config文件）  

conf t enable secret xxxxxx （重设密码）  

end  

  copy run start
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2010/09/25/a-brief-analysis-of-the-tomcat-nio-configuration/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2010/09/25/a-brief-analysis-of-the-tomcat-nio-configuration/" itemprop="url">浅析tomcat nio 配置</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2010-09-25T10:26:30+08:00">
                2010-09-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/默认分类/" itemprop="url" rel="index">
                    <span itemprop="name">默认分类</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Tomcat 6.X实现了JCP的Servlet 2.5和JSP2.1的规范，并且包括其它很多有用的功能，使它成为开发<br>和部署web应用和web服务的坚实平台。<br>       NIO （No-blocking I/O）从JDK 1.4起，NIO API作为一个基于缓冲区，并能提供非阻塞I/O操作的API<br>被引入。<br>       作为开源web服务器的java实现，tomcat几乎就是web开发者开发、测试的首选，有很多其他商业服务<br>器的开发者也会优先选择tomcat作为开发时候使用，而在部署的时候，把应用发布在商业服务器上。也有<br>许多商业应用部署在tomcat上，tomcat承载着其核心的应用。但是很多开发者很迷惑，为什么在自己的应<br>用里使用tomcat作为平台的时候，而并发用户超过一定数量，服务器就变的非常繁忙，而且很快就出现了<br>connection refuse的错误。但是很多商业应用部署在tomcat上运行却安然无恙。<br>      其中有个很大的原因就是，配置良好的tomcat都会使用APR(Apache Portable Runtime),APR是<br>Apache HTTP Server2.x的核心，它是高度可移植的本地库，它使用高性能的UXIN I/O操作，低性能的<br>java io操作，但是APR对很多Java开发者而言可能稍稍有点难度，在很多OS平台上，你可能需要重新编<br>译APR。但是从Tomcat6.0以后, Java开发者很容易就可以是用NIO的技术来提升tomcat的并发处理能力。<br>但是为什么NIO可以提升tomcat的并发处理能力呢，我们先来看一下java 传统io与 java NIO的差别。  </p>
<p>Java 传统的IO操作都是阻塞式的(blocking I/O), 如果有socket的编程基础，你会接触过堵塞socket和<br>非堵塞socket，堵塞socket就是在accept、read、write等IO操作的的时候，如果没有可用符合条件的资<br>源，不马上返回，一直等待直到有资源为止。而非堵塞socket则是在执行select的时候，当没有资源的时<br>候堵塞，当有符合资源的时候，返回一个信号，然后程序就可以执行accept、read、write等操作，一般来<br>说，如果使用堵塞socket，通常我们通常开一个线程accept socket，当读完这次socket请求的时候，开一<br>个单独的线程处理这个socket请求；如果使用非堵塞socket，通常是只有一个线程，一开始是select状，<br>当有信号的时候可以通过 可以通过多路复用（Multiplexing)技术传递给一个指定的线程池来处理请求，然<br>后原来的线程继续select状态。 最简单的多路复用技术可以通过java管道(Pipe)来实现。换句话说，如果<br>客户端的并发请求很大的时候，我们可以使用少于客户端并发请求的线程数来处理这些请求，而这些来不<br>及立即处理的请求会被阻塞在java管道或者队列里面，等待线程池的处理。请求 听起来很复杂，在这个架<br>构当道的java 世界里，现在已经有很多优秀的NIO的架构方便开发者使用，比如Grizzly,Apache Mina等<br>等，如果你对如何编写高性能的网络服务器有兴趣，你可以研读这些源代码。<br>      简单说一下，在web服务器上阻塞IO(BIO)与NIO一个比较重要的不同是，我们使用BIO的时候往往会<br>为每一个web请求引入多线程，每个web请求一个单独的线程，所以并发量一旦上去了，线程数就上去<br>了，CPU就忙着线程切换，所以BIO不合适高吞吐量、高可伸缩的web服务器；而NIO则是使用单线程(单<br>个CPU)或者只使用少量的多线程(多CPU)来接受Socket，而由线程池来处理堵塞在pipe或者队列里的请<br>求.这样的话，只要OS可以接受TCP的连接，web服务器就可以处理该请求。大大提高了web服务器的可<br>伸缩性。<br>    我们来看一下配置，你只需要在server.xml里把 HTTP Connector做如下更改，<br>    <connector port="8080" protocol="HTTP/1.1" connectiontimeout="20000" redirectport="8443"><br>    改为<br>    <connector port="8080" protocol="org.apache.coyote.http11.Http11NioProtocol" connectiontimeout="20000" redirectport="8443"><br>然后启动服务器，你会看到org.apache.coyote.http11.Http11NioProtocol start的信息，表示NIO已经启动。其他的配置请参考官方配置文档。<br>Enjoy it.<br>最后贴上官方文档上对tomcat的三种Connector的方式做一个简单比较，  </connector></connector></p>
<p><img src="file:///D:/program/tomcat6/webapps/docs/images/void.gif" alt="" title="浅析tomcat nio 配置 - suchalin - 为了更好的生活而奋斗！"></p>
<p>Java Blocking Connector       Java Nio Blocking Connector       APR Connector<br>Classname         Http11Protocol                  Http11NioProtocol         Http11AprProtocol<br>Tomcat Version   3.x 4.x 5.x 6.x                       6.x                     5.5.x 6.x<br>Support Polling         NO                             YES                        YES<br>Polling Size           N/A                   Unlimited - Restricted by mem        Unlimited<br>Read HTTP Request     Blocking                     Blocking                       Blocking<br>Read HTTP Body        Blocking                     Blocking                       Blocking<br>Write HTTP Response   Blocking                     Blocking                       Blocking<br>SSL Support           Java SSL                     Java SSL                       OpenSSL<br>SSL Handshake         Blocking                     Non blocking                   Blocking<br>Max Connections       maxThreads                   See polling size               See polling size</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2010/09/20/easy-access-to-netcom-telecom-and-tiantong-ip-address-allocation-methods/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2010/09/20/easy-access-to-netcom-telecom-and-tiantong-ip-address-allocation-methods/" itemprop="url">轻松获得网通、电信、铁通IP地址分配段的方法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2010-09-20T14:44:09+08:00">
                2010-09-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/默认分类/" itemprop="url" rel="index">
                    <span itemprop="name">默认分类</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>有时搞一些跨网段的工程和应用，需要尽量准确的知道电信、网通、铁通等电信运营商的IP地址段分配情况，可网上的资料不但很少，而且经常都是N个月前的过期资料……<br>APNIC是管理亚太地区IP地址分配的机构，它有着丰富准确的IP地址分配库，同时这些信息也是对外公开的！下面就让我们看看如何在Linux下获得一些电信运营商的IP地址分配情况：<br>shell&gt; wget <a href="http://ftp.apnic.net/apnic/dbase/tools/ripe-dbase-client-v3.tar.gz" target="_blank" rel="noopener">http://ftp.apnic.net/apnic/dbase/tools/ripe-dbase-client-v3.tar.gz</a><br>shell&gt; tar xzvf ripe-dbase-client-v3.tar.gz<br>shell&gt; cd whois-3.1<br>shell&gt; ./configure<br>shell&gt; make<br>完成上述编译安装工作后，我们开始获取IP地址段；<br>中国网通：<br>shell&gt; ./whois3 -h whois.apnic.net -l -i mb MAINT-CNCGROUP &gt; /var/cnc<br>中国电信：<br>shell&gt; ./whois3 -h whois.apnic.net -l -i mb MAINT-CHINANET &gt; /var/chinanet<br>中国铁通：<br>shell&gt; ./whois3 -h whois.apnic.net -l -i mb MAINT-CN-CRTC &gt; /var/crtc<br>打开获取后的文件可以看到里面的信息非常详细，甚至可以看到各个分公司的负责人、电话、电子邮件等等信息。如果想得到一份整齐干净的IP地址段文件，只要用grep和awk简单过滤就可以了：）<br>一个转自CU的自动获取脚本 ：<br>复制代码 代码如下:  </p>
<p>#!/bin/sh  </p>
<p>#auto get the IP Table  </p>
<p>#get the newest delegated-apnic-latest<br>rm delegated-apnic-latest<br>if type wget<br>then wget <a href="http://ftp.apnic.net/apnic/stats/apnic/delegated-apnic-latest" target="_blank" rel="noopener">http://ftp.apnic.net/apnic/stats/apnic/delegated-apnic-latest</a><br>else fetch <a href="http://ftp.apnic.net/apnic/stats/apnic/delegated-apnic-latest" target="_blank" rel="noopener">http://ftp.apnic.net/apnic/stats/apnic/delegated-apnic-latest</a><br>fi<br>grep ‘apnic|CN|ipv4’ delegated-apnic-latest | cut -f 4,5 -d ‘|’ | tr ‘|’ ‘ ‘ | while read ip cnt<br>do<br>mask=$(bc &lt;&lt;END | tail -1<br>pow=32;<br>define log2(x) {<br>if (x&lt;=1) return (pow);<br>pow–;<br>return(log2(x/2));<br>}<br>log2($cnt);<br>END<br>)<br>echo $ip/$mask’;’&gt;&gt;cnnet<br>resultext=`whois <a href="mailto:$ip@whois.apnic.net" target="_blank" rel="noopener">$ip@whois.apnic.net</a> | grep -e ^netname -e ^descr -e ^role -e ^mnt-by | cut -f 2 -d ‘:’ | sed ‘s/ *//‘`<br>if echo $resultext | grep -i -e ‘railcom’ -e ‘crtc’ -e ‘railway’<br>then echo $ip/$mask’;’ &gt;&gt; crc<br>elif echo $resultext | grep -i -e ‘cncgroup’ -e ‘netcom’<br>then echo $ip/$mask’;’ &gt;&gt; cnc<br>if echo $resultext | grep -i -e ‘chinanet’ -e ‘chinatel’<br>then echo $ip/$mask’;’ &gt;&gt; telcom_acl<br>elif echo $resultext | grep -i -e ‘unicom’<br>then echo $ip/$mask’;’ &gt;&gt; unicom<br>elif echo $resultext | grep -i -e ‘cmnet’<br>then echo $ip/$mask’;’ &gt;&gt; cmnet<br>else<br>echo $ip/$mask’;’ &gt;&gt; other_acl<br>fi<br>done  </p>
<p>以上脚本未测试，自己写了个把netmask计算的脚本</p>
<p>grep ‘apnic|CN|ipv4’ delegated-apnic-latest | cut -f 4,5 -d ‘|’ | tr ‘|’ ‘ ‘ | while read ip netmask<br>do<br>i=0;<br>while [ $netmask -gt 1 ]<br>do<br>let “netmask=$netmask/2”;<br>let “i = $i + 1”;<br>done<br>echo $ip/$i;<br>done</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2010/09/17/tencent-operations-systems-architect/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2010/09/17/tencent-operations-systems-architect/" itemprop="url">腾讯-运维职位/系统架构师</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2010-09-17T11:50:08+08:00">
                2010-09-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HR/" itemprop="url" rel="index">
                    <span itemprop="name">HR</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>游戏运维规划经理（成都、深圳）<br>岗位职责：<br>负责网络游戏业务的运营技术支撑工作整体规划和支撑团队日常工作管理；<br>负责整体把握网络游戏的运维服务质量，数据分析质量，资源规划等；<br>负责与周边IDC、服务器、操作系统、数据库等支撑团队沟通协调，跟进解决网络游戏运维中出现的各种问题；<br>负责与游戏运营项目组的日常沟通交流，协调并处理各种需求；  </p>
<p>工作经验：<br>三年以上互联网行业经验、两年以上的服务器维护经验、一年以上大中型互联网项目管理或实施经验；<br>有较强的流程分析、优化能力；<br>有较强的项目协调、管理能力；<br>熟悉IT服务管理（ITIL）及电信计费等相关实践经验；  </p>
<p>专业知识：<br>熟悉linux / Unix或Windows系统管理，对系统性能分析和诊断有一定的认识；<br>熟练掌握shell/perl或bat/vbs等脚本语言的程序编写；<br>熟悉网络知识，了解tcp/ip协议；<br>对服务器硬件知识有一定的了解；  </p>
<p>岗位要求：<br>1、计算机类和相关专业本科以上学历<br>2、三年以上互联网行业经验、两年以上的服务器维护经验、一年以上大中型互联网项目管理或实施经验；<br>3、熟悉linux / Unix或Windows系统管理，对系统性能分析和诊断有一定的认识；<br>4、熟练掌握shell/perl或bat/vbs等脚本语言的程序编写；<br>5、熟悉网络知识，了解tcp/ip协议；<br>6、对服务器硬件知识有一定的了解；<br>7、有较强的流程分析、优化能力；<br>8、有较强的项目协调、管理能力；<br>9、熟悉IT服务管理（ITIL）及电信计费等相关实践经验；  </p>
<p>?资深系统运维工程师<br>岗位职责：<br>负责操作系统相关的疑难问题的定位和解决；<br>负责操作系统的性能优化；<br>负责应用软件的研究和优化；<br>负责Server硬件的定制和评测；<br>相应的新技术的追踪和应用；  </p>
<p>工作经验：<br>四年以上操作系统维护经验，了解互联网应用的架构；<br>主导实施过中大型的互联网应用优化项目；  </p>
<p>专业知识：<br>精通Linux/Windows操作系统的应用；<br>掌握Linux/Windows操作系统的工作原理，深入理解Linux内核；<br>对Linux系统下的各类典型应用软件的性能、使用场景有深刻的认识；<br>深入理解PCServer的硬件架构和评测方法；<br>有一定的开发能力（使用shell、perl等脚本语言）；<br>熟悉主流数据库（Mysql/Oracle/MS-SQL）；<br>熟悉网络原理、TCP/IP协议；  </p>
<p>岗位要求：<br>基本要求：<br>1、计算机类或相关专业学历；<br>2、四年以上操作系统维护经验，了解互联网应用的架构；<br>3、主导实施过中大型的互联网应用优化项目；<br>素质要求：<br>3、要求对技术有强烈的追求，具备较强的学习和钻研能力；<br>4、有较强的沟通能力和团队合作精神，高度的责任心；<br>技能要求：<br>5、精通Linux/Windows操作系统的应用；<br>6、掌握Linux/Windows操作系统的工作原理，深入理解Linux内核；<br>7、对Linux系统下的各类典型应用软件的性能、使用场景有深刻的认识；<br>8、深入理解PCServer的硬件架构和评测方法；<br>9、有一定的开发能力（使用shell、perl等脚本语言）；<br>10、熟悉主流数据库（Mysql/Oracle/MS-SQL）；<br>11、熟悉网络原理、TCP/IP协议；  </p>
<p>?高级系统架构师<br>岗位职责：<br>参与游戏运营系统平台的设计、架构以及核心部分编码，带领团队进行游戏运营支撑平台建设和推广；<br>主持游戏业务的运营层面架构优化方案设计、评审，在alpha阶段后以运营技术专家身份参与到游戏的分布，逻辑模块、DB系统等方面的优化设计和评审  </p>
<p>工作经验：<br>具有较强的团队精神与服务意识；<br>具备高度的责任心，善于沟通表达，具备项目管理经验，对开发过程、质量管理有深刻理解，热爱计算机技术及软件开发；<br>有大型分布式系统的设计开发及维护经验者优先。  </p>
<p>专业知识：<br>精通linux/unix等操作系统，具备扎实的unix环境编程能力；<br>精通c/c++语言并具备丰富的编程经验；<br>精通网络编程并有高并发系统的开发经验；<br>熟悉MYSQL或其他大型数据库，能够快速根据需要完成高性能数据库设计；  </p>
<p>岗位要求：<br>1、精通linux/unix等操作系统，具备扎实的unix环境编程能力；<br>2、精通c/c++语言并具备丰富的编程经验；<br>3、精通网络编程并有高并发系统的开发经验；<br>4、熟悉MYSQL或其他大型数据库，能够快速根据需要完成高性能数据库设计；<br>5、具有较强的团队精神与服务意识；<br>6、具备高度的责任心，善于沟通表达，具备项目管理经验，对开发过程、质量管理有深刻理解，热爱计算机技术及软件开发；<br>7、有大型分布式系统的设计开发及维护经验者优先。  </p>
<p>以上职位工作地点：深圳<br>薪资水平：15-30w/年  </p>
<p>联 系 人：石晓丹<br>联系电话：0411 82696820<br>MSN（邮箱）：<a href="mailto:hebe.shi@live.cn" target="_blank" rel="noopener">hebe.shi@live.cn</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2010/09/17/speed-up-the-firefox-startup/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2010/09/17/speed-up-the-firefox-startup/" itemprop="url">加快FIREFOX启动速度</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2010-09-17T11:11:12+08:00">
                2010-09-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/默认分类/" itemprop="url" rel="index">
                    <span itemprop="name">默认分类</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>1.右键点击firefox快捷方式－属性－目标，在目标文本框末尾加空格加-turbo可以加快启动速度添加/Prefetch:1 也可以.</p>
<p>2.打开新的FireFox窗口,在地址栏输入 “about:config”然后找到以下的地址：:<br>network.http.pipelining<br>network.http.proxy.pipelining<br>network.http.pipelining.maxrequests<br>通常浏览器一次只会发送一个请求. 你可以让它一次发送多个请求<br>3. 改变这些值:<br>把 “network.http.pipelining” 设置为”true”<br>把 “network.http.proxy.pipelining” 设置为 “true”<br>把 “network.http.pipelining.maxrequests”设置成20.<br>这个意思就是让他一次请求20次.<br>4.最后右击任何地方，”新建”－&gt;”整数”，把名字设为”nglayout.initialpaint.delay”<br>，把它的值设为”0”<br>这个值是当浏览器收到信息后等待的时间。<br>5.右击鼠标－新建－布尔（boolean)项，输入：config.trim_on_minimize,并设置为true。<br>作用：这样就可以在最小化时自动释放内存。<br>2.在过滤器栏输入：browser.sessionhistory.max_total_viewers，双击该项，修改值为5或更小。<br>作用：页面快进/快退功能中保存的页面总数，默认是-1(无限)。<br>参考：<br>32MB 0<br>64MB 1<br>128MB 2<br>256MB 3<br>512MB 5<br>1GB 8<br>6.找到network.dns.disableIPv6 ，右键，切换，值变为true。<br>作用：禁用ipv6解析。<br>7.找到browser.tabs.loadDivertedInBackground的值切换true。<br>作用：新打开的标签页在后台，你依然可以浏览当前页面。<br>8.点击右键，新建—整数–〉输入 browser.cache.memory.capacity —〉确定 –〉输入数值，推荐16000。可以减少内存使用。<br>设置完之后，在打开一次看看 是不是快好多了？</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2010/09/17/tripwire-application/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2010/09/17/tripwire-application/" itemprop="url">Tripwire 应用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2010-09-17T10:50:38+08:00">
                2010-09-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/默认分类/" itemprop="url" rel="index">
                    <span itemprop="name">默认分类</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>对unix管理员来说，主机系统的安全一直是个课题，一方面管理员通过更新patch，安装软硬件防火墙等手段努力使自己的系统可靠性增强，而另一方面unix操作系统的漏洞总是不断被发现并被公布出来，如BUGTRAQ这样的安全列表，从这个角度上可以很绝对的说，互联网上没有安全的主机。任何一台放在Internet上的主机被入侵的潜在可能性是不可逃脱的，而且，对入侵者而言，利用漏洞进入系统往往只是第一步，如果想得到更多的，如超级用户的密码，数据库的口令等，往往需要下点功夫，最便捷也是最有效的就是改动或特洛伊化受侵害的主机上的文件，如放置自己的监听程序，替代某些关键文件，修改编辑可信文件，设置suid文件等。  </p>
<p>　　一些管理员通unix自带的命令来检查文件的安全性，如检查文件生成的时间戳，但这样的可靠性微乎其微，有经验的入侵者可以很轻松的修改文件生成时间，有兴趣的管理员可以试试以下操作：<br>　　# echo “+ +” &gt; /.rhosts<br>　　这一步生成一个.rhosts文件，看看它的时间。<br>　　# ls -l /.rhosts<br>　　-rw-r–r– 1 root other 4 Jul 2 16：45 /.rhosts<br>　　好，我们如下操作看看会怎么样?<br>　　# touch -r /bin/sh /.rhosts<br>　　#ls -l /.rhosts<br>　　-rw-r–r– 1 root other 4 Apr 5 16：32 /.rhosts  </p>
<p>　　我们看到时间戳已经变了。变成了一个”老”文件，这样很可能就会逃脱管理员的视线。比如，入侵者替换掉了su文件，在正当用户每次试图su时，这个特洛伊化的su文件都会读取口令并将口令记载下来，然后才把控制权交给真正的su程序，口令通过这种途径泄密了，虽然这不是管理员所期望的，但毕竟unix太大太复杂，发现起来很困难。  </p>
<p>　　Tripwire就是解决这一问题的经典工具，它是目前最为著名的unix下文件系统完整性检查的软件工具，这一软件采用的技术核心就是对每个要监控的文件产生一个数字签名，保留下来。当文件现在的数字签名与保留的数字签名不一致时，那么现在这个文件必定被改动过了。具体到监控项目，在Tripwire的配置文件中有如下相应说明：<br>　　access permissions and file mode settings， including effective execution settings inode number in the file system  </p>
<p>　　number of links<br>　　user ID of the owner<br>　　group ID of the group of users to which access may be granted<br>　　size of the item<br>　　date and time the item was last accessed， the last modification made to the item， and the creation date and time associated with the items inode<br>　　由上，我们可以看到Tripwire对文件的管理面是很宽的。  </p>
<p>　　<strong>2： Tripwire的工作原理</strong><br>　　当Tripwire运行在数据库生成模式时，会根据管理员设置的一个配置文件对指定要监控的文件进行读取，对每个文件生成相应数字签名，并将这些结果保存在自己的数据库中，在缺省状态下，MD5和SNCFRN(Xerox的安全哈希函数)加密手段被结合用来生成文件的数字签名。除此以外，管理员还可使用MD4，CRC32，SHA等哈希函数，但实际上，使用上述两种哈希函数的可靠性已相当高了，而且结合MD5和sncfrn两种算法(尤其是sncfrn)对系统资源的耗费已较大，所以在使用时可根据文件的重要性做取舍。当怀疑系统被入侵时，可由Tripwire根据先前生成的，数据库文件来做一次数字签名的对照，如果文件被替换，则与Tripwire数据库内相应数字签名不匹配， 这时Tripwire会报告相应文件被更动，管理员就明白系统不”干净”了。  </p>
<p>　　有一点要注意，上述保障机制的重点在于数据库内的数字签名，如果数据库是不可靠的，则一切工作都丧失意义。所以在Tripwire生成数据库后，这个库文件的安全极为重要。比较常见的做法是将数据库文件， Tripwire二进制文件，配置文件单独保留到”可拿走并锁起来”的质上，如软盘，将上述文件复制到软盘后，关闭写保护口，锁到保险柜中。除软盘外， 一次性介质，如cd-r也是很好的选择，这样即使侵入者拿到盘也无计可施。除这种办法外，利用PGP等加密工具对上述关键文件进行数字签名也是一个很好的选择。  </p>
<p>　　当然，当管理员自身对某些文件更动时， Tripwire的数据库必然是需要随之更新的， Tripwire考虑到了这一点，它有四种工作模式：数据库生成，完整性检查，数据库更新。交互更新。当管理员更动文件后，可运行数据库更新模式来产生新的数据库文件。  </p>
<p>　　<strong>3：下载Tripwire，安装前的准备工作</strong><br>　　Tripwire支持绝大多数Unix操作系统，它的安装需要编译环境，如gcc，cc等，还需要gzip，gunzip等解压工具。这些工具管理员可从相应站点获取，这里不讨论。Tripwire可从<a href="http://www.tripwire.com获得，到它的主页download部分，可以看到当前可免费download的Tripwire1.3" target="_blank" rel="noopener">www.tripwire.com获得，到它的主页download部分，可以看到当前可免费download的Tripwire1.3</a> ASR版本，下载下来就是。  </p>
<p>　　<strong>4：安装Tripwire</strong><br>　　Tripwire的tar包解开后，我们可以看到如下目录结构，建议先看看根下的README文件，对Tripwire有个整体的了解。随后，我们就可以一步步的安装这个软件了。  </p>
<p>　　<strong>步骤1：匹配主机环境</strong>  </p>
<p>　　在Tripwire的根下有Ported这个文件，它是对支持的系统及相关配置文件的描述，管理员第一步需要打开这个文件，找到符合自己系统的描述，本文的测试环境是solaris2.6，我们截取相关部分来看看，<br>　　vendor： Sun Microsystems， Inc.<br>　　os： SunOS<br>　　os version： 5.x (Solaris 2.x)<br>　　compiler： cc<br>　　cflags： -O<br>　　ldflags：<br>　　libs：<br>　　conf.h： conf-svr4.h<br>　　tw.config： tw.Conf.sunos5<br>　　notes：<br>　　在这一段描述中，要尤其注意的是conf.h 和tw.config对应的行，在下几步的配置中需要用到它们两个对应的文件。此处要注意的是：每种操作系统这两个地方所对应的文件是不同的。  </p>
<p>　　<strong>步骤2：配置监控目标</strong>  </p>
<p>　　进入include目录，编辑config.h文件，将第一步Ported中conf.h后对应的文件名和路径写入config.h开始#include部分，此例中即为<br>　　#include “../configs/conf-svr4.h”<br>同时注意的是，在configh文件中还有Tripwire配置文件，Tripwire数据库文件的放置路径及生成数据库的文件名等设置，管理员按照个人喜好设置即可编辑好config.h后，还要根据本机情况编辑修改位于configs目录下的Tripwire配置文件，也就是上面Ported 文件中tw.config对应的tw.conf.sunos5，我们知道，对文件，目录等的监控就是在这里设置的。我们一段段的选取一部分这个文件来看看：<br>　　#<br>　　# - ： ignore the following atributes<br>　　# + ： do not ignore the following attributes<br>　　#<br>　　# p ： permission and file mode bits a： access timestamp<br>　　# i ： inode number m： modification timestamp<br>　　# n ： number of links (ref count) c： inode creation timestamp<br>　　# u ： user id of owner 1： signature 1<br>　　# g ： group id of owner 2： signature 2<br>　　# s ： size of file<br>　　注意上述p，I，n，u，g，s，a，c，1，2等，它表示可以对文件，目录设置的监控项目，管理员可组合使用，最前面的-，+号表示选取或忽略这些属性。如下例：<br>　　/var +pinugsm12-a<br>　　它表示对目录/var下所 有文件检查，监控项目分别有文件属性，inode，链接数，属组，属主，修改时间，生成时间，数字签名等，但是，对这个目录下的文件的访问不加监控，如果访问也监控的话，正常的用户访问也会被Tripwire捕捉，这没有必要。<br>　　为了方便起见，Tripwire作者把常见组合做成了模板，如下，<br>　　#<br>　　# Templates： (default) R ： [R]ead-only (+pinugsm12-a)<br>　　# L ： [L]og file (+pinug-sam12)<br>　　# N ： ignore [N]othing (+pinusgsamc12)<br>　　# E ： ignore [E]verything (-pinusgsamc12)<br>　　#<br>　　tw.conf.sunos5这个文件再向下，就是管理员根据情况填写了，把需要监控的文件及目录加入列表，赋予相应属性即可。如下：<br>　　/ R<br>　　/.rhosts R # may not exist<br>　　/.profile R # may not exist<br>　　/etc/dfs/dfstab R<br>　　/etc/hosts.equiv R<br>　　/etc/inet/inetd.conf R<br>　　/etc/inet/protocols R<br>　　/etc/inet/services R<br>　　/etc/init.d R<br>　　/etc/motd L<br>　　#/etc/named.boot R # may not exist<br>　　/etc/opt R<br>　　/etc/passwd L<br>　　/etc/profile R  </p>
<p>　　<strong>步骤3：编译</strong>  </p>
<p>　　完成上两步后，就可以编译了，在Tripwire的根下，执行make，系统即会自动编译，编译成功后，可以再执行make test，Tripwire会自动检查编译情况及工作状态，它会一段一段的测试，我们选取一段如下：<br>　　=== test.Update.sh： DESCRIPTION<br>　　This shell script exercises all the Tripwire integrity checking<br>　　and database update functionalities。<br>　　=== test.update.sh： Setting up auxiliary scripts ===<br>　　=== test.update.sh： BEGIN ===<br>　　../src/tripwire -loosedir -c /tmp/twtest/tw.config -d /tmp/twtest/tw.db -i all<br>　　=== test.update.sh： testing GROWING (safe) files ===<br>　　=== test.update.sh： testing GROWING (unsafe) files ===<br>　　=== test.update.sh： testing ADDED files ===<br>　　=== test.update.sh： testing DELETED files ===<br>　　=== test.update.sh： testing CHANGED files ===<br>　　=== test.update.sh： testing input schemes ===<br>　　=== test.update.sh： tw.config from stdin<br>　　=== test.update.sh： database from stdin<br>　　=== test.update.sh： testing complex UPDATE cases<br>　　=== test.update.sh： changed ignore-mask (UPDATE file)<br>　　=== test.update.sh： changed ignore-mask (UPDATE entry)<br>　　=== test.update.sh： testing UPDATED files (7 cases)<br>　　=== test.update.sh： case 1： update： add new file ===<br>　　=== test.update.sh： case 2： update： delete file ===<br>　　=== test.update.sh： case 3： update： update file ===<br>　　=== test.update.sh： case 4： nonsense case (skipping) ===<br>　　=== test.update.sh： case 6： update： delete entry ===<br>　　=== test.update.sh： case 5： update： add entry ===<br>　　=== test.update.sh： case 7： update： update entry ===<br>　　=== test.update.sh： PASS ===<br>　　我们可以看到，Tripwire对update功能一项项的做检测，并在最后PASS了，当Tripwire所有的检测项目都PASS后，编译就OK了。  </p>
<p>　　<strong>步骤4：生成数据库</strong>  </p>
<p>　　成功编译Tripwire，我们准备开始对需要监控的文件进行扫描，以生成Tripwire数据库，在Tripwire 的src目录下：如下操作。/tripwire -init，则系统会根据tw.conf.sunos5文件内的设置，开始扫描并生成相应的数据库，上面提到，数据库文件的路径是在第二步configh中设置的，在本例中为/var/tripwire，我们得到了名为tw.db_secu.unix.com的数据库文件。建议此时将Tripwire可执行文件，数据库文件，配置文件COPY到软盘等地方，放到安全的地方。以后需要安全鉴别时直接在软盘上执行即可。  </p>
<p>　　<strong>步骤5：测试  
</strong><br>　　数据库生成了，我们来测试一下吧，首先我们在根下touch生成一个goadd文件，其次我们把根下的.cshrc文件做一下改动，在里面加入几个#注释号。然后我们来运行一下Tripwire看如何：<br>　　/ Tripwire -c ./tw.config.sunos5 -d ./tw.db_secu.unix.com<br>　　Tripwire(tm) ASR (Academic Source Release) 1.3.1<br>　　File Integrity Assessment Software<br>　　(c) 1992， Purdue Research Foundation， (c) 1997， 1999 Tripwire<br>　　Security Systems， Inc。 All Rights Reserved。 Use Restricted to<br>　　Authorized Licensees。<br>　　### Phase 1： Reading configuration file<br>　　### Phase 2： Generating file list<br>　　./tripwire： /.profile： No such file or directory<br>　　./tripwire： /kernel/unix： No such file or directory<br>　　### Phase 3： Creating file information database<br>　　### Phase 4： Searching for inconsistencies<br>　　###<br>　　### Total files scanned： 4437<br>　　### Files added： 1<br>　　### Files deleted： 0<br>　　### Files changed： 1<br>　　###<br>　　### Total file violations： 2<br>　　###<br>　　added： -rw-r–r– root 0 Jul 3 18：45：31 2000 /goadd<br>　　changed： -r–r–r– root 669 Jul 3 18：46：15 2000 /.cshrc<br>　　### Phase 5： Generating observed/expected pairs for changed files<br>　　###<br>　　### Attr Observed (what it is) Expected (what it should be)<br>　　### =========== ============================= =============================<br>　　/.cshrc<br>　　st_size： 669 668<br>　　st_mtime： Mon Jul 3 18：46：15 2000 Mon Jul 3 09：00：41 2000<br>　　st_ctime： Mon Jul 3 18：46：15 2000 Mon Jul 3 09：00：41 2000<br>　　md5 (sig1)： 3z9gKjlZGq5GbeWOxpYaF9 1Z7K0n3ZKAyuPpAZB1G8uq<br>　　snefru (sig2)： 1vCDeMR45lpRCChmDithiW 1oRYPpQ：oZA6hVx6Zi4.NG  </p>
<p>　　可以看到，系统运行经过了5个步骤，首先读取配置文件，其次生成配置文件中设置为需要监控，但实际并不存在的文件列表。第三部生成文件信息库，第四步报告检查情况。我们看到共扫描了4437个文件，其中有一个文件是新增加的，有一个文件发生了改变。在下面它列出了这两个文件-正是我们做了手脚的文件!在最后一步Tripwire将发生了改变的文件现在字节数，生成时间，修改时间， md5， snefru签名及数据库中的记录对比列出，是不是很爽?  </p>
<p>　　上面我们讲到的是Tripwire的主要功能，在命令行状态下敲入tripwire -h 就会有其它使用参数的介绍，有兴趣的管理员不妨一试。 　　The Tripwire Product Line<br>　　Tripwire HQ Connector Bundle The HQ Connector bundle is comprised of Tripwires award-winning file integrity software,Tripwire version 2.2.1, and a communications agent that allows the software engine to “talk” to the Tripwire HQ Manager. Tripwire provides support for multiple platforms, including Windows NT, Solaris, Linux, HP-UX, IBM-AIX and others. With the Tripwire HQ Connector bundle, you can unequivocally answer the question: is my data the same today as it was yesterday? This information will help you keep your system in optimal working order and manage any changes - malicious or inadvertent - giving you complete control over data integrity. Tripwire HQ Manager HQ Manager is a software console with a graphical user interface that allows you to control hundreds of installations of HQ Connector. Named HQ Managerbecause its designed to operate as your information integrity headquarters, this product provides you with the very best way to manage data integrity across an enterprise network from a single, centralized location. Tripwire 2.2.1 for Linux With all the same great features as Tripwire 2.2.1 for other operating systems, Tripwire for Linux is available as a free download (without the agent that communicates with HQ Manager). In support of the open source community, Tripwire plans to release an open source version of this product this fall. For more information and future announcements about the open source release, check out <a href="http://www.tripwire.org" target="_blank" rel="noopener">www.tripwire.org</a>. Tripwire Academic Source Release 1.3.1 With only slight changes, the Tripwire Academic Source Release (ASR) version 1.3.1 is the same as the original Tripwire software that was developed in 1992 by Dr. Eugene Spafford and Tripwire CTO Gene Kim. Tripwire offers this version as a free download, but does not provide product support for it.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2010/09/16/why-does-red-hat-enterprise-linux-system-does-not-respond-to-syn-requests-intermittently/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2010/09/16/why-does-red-hat-enterprise-linux-system-does-not-respond-to-syn-requests-intermittently/" itemprop="url">Why does Red Hat Enterprise Linux system does not respond to SYN requests intermittently ?</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2010-09-16T14:11:00+08:00">
                2010-09-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Issue<br>Server does not answer some specific SYN Packages.<br>Webserver does not respond for some sessions (SYN requests).  SYN Packets being ignored intermittently by RHEL Apache server<br>LDAP server occasionally ignoring SYNs<br>Any server, regardless of the application layer, may occasionally ignore TCP SYN packets (i.e. a TCP packet with the SYN flag set).<br>Environment<br>Red Hat Enterprise Linux 4 and 5 (Webserver/application server)<br>Red Hat Enterprise Linux 5.4 (openldap-2.3.43-3.el5)  </p>
<p>This issue has been reported in a environment using NAT (Network Address Translation) like the following:<br>      Client—&gt;NAT Router—&gt;Server</p>
<p>Resolution  </p>
<p>Disable TCP time stamps using the following command:</p>
<p>echo 0 &gt; /proc/sys/net/ipv4/tcp_timestamps  </p>
<p>or by adding the following line to /etc/systcl.conf and rebooting the system:</p>
<p>net.ipv4.tcp_timestamps = 0  </p>
<p>Disabling TCP time stamps will disable PAWS (Protect Against Wrapped Sequences), checking as defined in <a href="http://www.ietf.org/rfc/rfc1323.txt" target="_blank" rel="noopener">RFC 1323</a>.</p>
<p>Root Cause  </p>
<p>In a TCP dump of the affected packets, the TSVal of SYN packet is a lower value than the preceding packet.</p>
<p>Packet #30 from x.x.x.x to y.y.y.y has a TSval of 773695118  </p>
<p>Packet #33 from x.x.x.x to y.y.y.y has a TSval of 470318331  </p>
<p>In above TCP trace, packet #33 has a TSval of 470318331 which is lower than its preceding one. As PAWS checking is enabled in the TCP stack, it doesn’t send an acknowledge (SYN-ACK) back to the peer.</p>
<p>PAWS assumes that every received TCP segment (including data and ACK segments) contains a timestamp (SEG.TSval) whose values are non-decreasing in time. The basic idea is that a segment can be discarded as an old duplicate if it is received with a timestamp (SEG.TSval) less than some timestamp recently received on this connection.</p>
<p>Timestamp issues often indicate a problem with firewalls or NAT routers.</p>
<p>Diagnostic Steps<br>Stage 1  </p>
<p>Since the server is not heavily loaded, you may at first suspect this issue to be an issue with socket exhaustion.  However, checking the output of “netstat -paunt” will reveal that there are only a couple of active connections.</p>
<p>Stage 2  </p>
<p>Increasing the size of syn backlog queue (net.ipv4.tcp_max_syn_backlog) doesn’t seem to help.</p>
<p>Stage 3  </p>
<p>Collecting a TCP dump from the server using a command like the following:</p>
<p>tcpdump -s0 -w /tmp/tcpdump.pcap -i any host <client ip=""> and port 80  </client></p>
<p>and generating traffic (HTTP or LDAP) to the server captures evidence of the server not responding to the TCP SYN packets.  The output file can be analyzed with a command like</p>
<p>tcpdump -r /<path></path>/<to>/tcpdump.pcap  </to></p>
<p>or <a href="http://www.wireshark.org/" target="_blank" rel="noopener">Wireshark</a> can be used to analyze the TCP dump file graphically.  Wireshark is a standard package in most Red Hat Enterprise Linux and Fedora distributions.  Analysis of the TCP dump should show cases where the client will send several TCP SYN packets to the host, but the host will not respond.  Further analysis should show that the TSVal of the SYN packets is less than a preceding TCP packet.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2010/09/15/dell-r410-installation-centos-and-network-card-driver/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2010/09/15/dell-r410-installation-centos-and-network-card-driver/" itemprop="url">dell r410 安装CentOS与网卡驱动</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2010-09-15T13:58:12+08:00">
                2010-09-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>官方驱动下载地址：<br><a href="http://zh-cn.broadcom.com/support/ethernet_nic/netxtremeii.php" target="_blank" rel="noopener">http://zh-cn.broadcom.com/support/ethernet_nic/netxtremeii.php</a><br>全新的DELL R410 系统预装CentOS4.6   到了机房发现才在装第一台系统，启动后发现不了硬盘，Google了下找到了解决方案，在BOOT的那里输入： linux graphical &amp;&amp; all-generic-ide 能识别到硬盘并进入到图形界面安装，以为要在软件安装那里选取除了gcc,和vi其他的都不要，接下来安装的过程中一切顺利，安装完成后进入到系统配置IP，结果发现网卡不识别，只好继续Google，找到网卡驱动并copy到U盘里（还好另一同事有U盘，不然工作都进行不下去。。），挂载并将驱动copy到CentOS系统里，驱动有2种格式，rpm和tar包的，为了省事期间就选择了rpm安装方式。。<br>挂载U盘：先创建一目录    mkdir /mnt/usb<br>          然后将U盘挂载到usb目录     mount  /dev/sdb1   /mnt/usb<br>          进入usb目录      cd /mnt/usb<br>          Rpm安装           rpm -ivh netxtreme2-4.8.10-1.src.rpm<br>1:netxtreme2             ########################################### [100%]<br>进入/usr/src/redhat/目录     cd /usr/src/redhat<br>该目录下有5个子目录   BUILD  RPMS   SOURCES   SPECS  SRPMS<br>接下来源码编译         rpmbuild –bb SPECS/netxtreme2.spec<br>在编译结束会看到如下提示：<br>+ umask 022<br>+ cd /usr/src/redhat/BUILD<br>+ cd netxtreme2-4.8.10<br>+ rm -rf /var/tmp/netxtreme2-buildroot /usr/src/redhat/BUILD/file.list.netxtreme2<br>+ exit 0                   (如果返回值为1-255，就说明编译没有成功)<br>安装编译之后生成的rpm包<br>   rpm -ivh RPMS/i386/netxtreme2-4.8.10-1.x86_64.rpm<br>查看是否加载了该模块<br>lsmod |grep bnx2 （一般是不会自动加载的，需手动加载）<br>modprobe  bnx2  (手动加载)<br>再查看是否加载了模块<br>lsmod |grep bnx2 (就会有了)<br>bnx2    180000 0  (具体的数字我不记得了)  </p>
<p>昨天到机房有2台要装成CentOS5.2的，结果用RPM安装驱动时总是出错，于是试了下tar包安装，结果成功。。。<br>TAR包安装网卡驱动<br>1 解压TAR包<br>tar zxvf netxtreme2-4.8.10.tar.gz<br>2，只需要生成bnx2.ko(cnic.ko是附带的)这个模块<br>cd netxtreme2-4.8.10/bnx2/src<br>3，编译并安装<br>make;make install<br>重启服务器  OK</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2010/09/11/increase-swap-partition-size/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2010/09/11/increase-swap-partition-size/" itemprop="url">增加交换分区大小</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2010-09-11T09:36:00+08:00">
                2010-09-11
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>1、检查当前的分区情况（使用free －m或cat /proc/swaps ）</p>
<p>[root@db2 root]# free -m<br>              total       used       free     shared    buffers     cached<br> Mem:          1006         84        922          0         11         38<br> -/+ buffers/cache:         35        971<br> Swap:            0          0          0<br> [root@db2 root]#</p>
<p>2、增加交换分区文件及大小</p>
<p>检查没有swap，下面就需要增加，判定新交换文件的大小，将大小乘以1024来判定块的大小。例如，大小为64MB的交换文件的块大小为65536,在 shell 提示下以根用户身份键入以下命令，其中的 count 等于想要的块大小。</p>
<p>[root@db2 root]# dd if=/dev/zero of=/home/swap bs=1024 count=1024000<br> 1024000+0 records in<br> 1024000+0 records out<br> [root@db2 root]#</p>
<p>使用以下命令来设置交换文件：</p>
<p>[root@db2 root]# mkswap /home/swap<br> Setting up swapspace version 1, size = 1023996 KiB<br> [root@db2 root]#</p>
<p>3、启用交换分区文件</p>
<p>要立即启用交换文件而不是在引导时自动启用，使用以下命令：</p>
<p>[root@db2 root]# swapon /home/swap</p>
<p>检查增加后的交换情况：</p>
<p>[root@db2 root]# free -m<br>              total       used       free     shared    buffers     cached<br> Mem:          1006        994         12          0          4        929<br> -/+ buffers/cache:         60        946<br> Swap:          999          0        999<br> [root@db2 root]#</p>
<p>要在引导时启用，编辑 /etc/fstab 文件来包含以下行（/home/swap swap swap defaults 0 0 ）：</p>
<p>[root@db2 root]# vi /etc/fstab<br> LABEL=/                 /                   ext3    defaults        1 1<br> LABEL=/boot             /boot               ext2    defaults        1 2<br>/home/swap               swap                    swap    defaults        0 0<br> none                    /dev/pts                devpts  gid=5,mode=620  0 0<br>none                    /proc                   proc    defaults        0 0<br>none                    /dev/shm                tmpfs   defaults        0 0<br>LABEL=/usr              /usr                    ext3    defaults        1 2<br>/dev/sda5               swap                    swap    defaults        0 0 </p>
<p>系统下次引导时，它就会启用新建的交换文件，再次检查添加后的情况：</p>
<p>[root@db2 oracledb]# free -m<br>                     total       used       free     shared    buffers     cached<br>        Mem:          1006        979         27          0          6        917<br>        -/+ buffers/cache:         54        952<br>        Swap:          999          0        999<br>        [root@db2 oracledb]#</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/13/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/13/">13</a><span class="page-number current">14</span><a class="page-number" href="/page/15/">15</a><span class="space">&hellip;</span><a class="page-number" href="/page/28/">28</a><a class="extend next" rel="next" href="/page/15/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">John Doe</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">277</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">9</span>
                  <span class="site-state-item-name">categories</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">163</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
