<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="haitian的博客">
<meta property="og:url" content="http://yoursite.com/page/4/index.html">
<meta property="og:site_name" content="haitian的博客">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="haitian的博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/4/"/>





  <title>haitian的博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">haitian的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">为了更好的生活而奋斗!</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2011/09/07/the-kvm-uses-the-virtio-hard-disk/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="haitian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://q1.qlogo.cn/g?b=qq&nk=493654134&s=5">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haitian的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/09/07/the-kvm-uses-the-virtio-hard-disk/" itemprop="url">kvm使用virtio硬盘</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-09-07T15:58:00+08:00">
                2011-09-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>在Ubuntu下面需要安装下面的软件：</p>
<p>sudo apt-get install kvm qemu-kvm</p>
<p>加入个人用户到kvm组，以保证个人用户可以读写/dev/kvm，否则，以个人用户无法运行kvm：</p>
<p>sudo adduser $USER kvm</p>
<p>如果想使用物理磁盘，则需要加个人用户到disk组：</p>
<p>sudo adduser $USER disk</p>
<p>现在最好重启一下计算机！</p>
<p>下面开始安装操作系统，我安装了Windows XP和Windows 7，下面以Windows XP为例开始安装。</p>
<p>先准备好一个磁盘文件，有2种常用的格式，一个是qemu的qcow2格式，一个是raw格式，前者是可以增长的文件格式，后者实际是磁盘上一个连续区域。</p>
<p>qcow2:</p>
<p>qemu-img create -f qcow2 winxp.img 10G</p>
<p>Raw：</p>
<p>dd if=/dev/zero of=winxp.img bs=1024K count=10000</p>
<p>下面开始安装，准备好安装光盘文件winxp.iso，下面是安装的指令：</p>
<p>kvm -m 1024 -cdrom=winxp.iso -hda winxp.img -boot d -localtime</p>
<p>XP安装很快，20分钟左右就可以安装好，Win 7大约需要40分钟。下面开始以下后面的工作，会涉及更多的参数。</p>
<p>配置硬盘和网络的virtio模式，virtio是个半虚拟化的模式，速度比传统方式还要快些，根据Using virtio_net For The Guest NIC一文的测试，virtio还是很有优势的。</p>
<p>在虚拟机里面下载virtio windows guest驱动： Storage driver和Network driver，其中已经包含了xp、win7等的驱动。</p>
<p>根据boot from virtio block device一文的介绍，用以下方式进行安装驱动。</p>
<p>建一个临时的磁盘文件：</p>
<p>qemu-img create -f qcow2 fake.img 1G</p>
<p>启动虚拟机：</p>
<p>kvm -drive file=winxp.img,if=ide,boot=on -drive file=fake.img,if=virtio -m 1024 -localtime -net nic,model=virtio -net user -usb -usbdevice tablet</p>
<p>在启动的虚拟机里，会找到virtio设备，然后安装这两个驱动。安装完毕后，关机。以下面方式重新启动：</p>
<p>kvm -drive file=winxp.img,if=virtio,boot=on -m 1024 -net nic,model=virtio -net user -usb -usbdevice tablet -soundhw es1370</p>
<p>下面配置远程桌面对Windows的访问，首先需要在虚拟机的Windows里面开启远程桌面，而且必须给用户加上密码，Windows XP和Windows 7需要是Professional以上版本。然后运行mmc继续配置远程桌面访问参数。</p>
<p>打开mmc后，“添加/删除管理单元“ -&gt; “添加” -&gt; “组策略对象编辑器” -&gt; “本地计算机”。在里面配置：“计算机配置” -&gt; “管理模板” -&gt; “Windows 组件” -&gt; “终端服务” -&gt; “限制最大颜色深度”，设置为24位，原来默认是16位。</p>
<p>关机，重新以可以以新的模式后台运行：</p>
<p>kvm -M pc -drive file=winxp.img,if=virtio,boot=on -localtime -m 1024 -soundhw es1370 -net nic,model=virtio -net user -vnc 127.0.0.1:0 -daemonize -redir tcp:3389::3389 -name WindowsXP -usb -usbdevice tablet</p>
<p>-vnc 127.0.0.1:0表示以vnc模式运行，-daemonize表示kvm以后台运行，-redir tcp:3389::3389表示将虚拟机的3389端口映射为宿主机的3389端口上，这样rdesktop本机就可以进行远程桌面访问了。如果想实时 查看状态，可以使用vncviewer或者vinagre查看。</p>
<p>现在可以rdesktop进行访问了，下面是rdesktop的参数：</p>
<p>rdesktop localhost -u username -p password -f -D -z -P -r sound:local -clipboard</p>
<p>这里-z参数可以保证鼠标运行速度不缓迟，-f表示全屏。</p>
<p>虚拟机如何使用USB设备呢，首先要保证用户可以访问USB设备，qemu支持usb设备在虚拟机里面的拔插，在qemu界面里（或者vnc访问的界面里），Ctrl+Alt+2进入qemu monitor命令行控制模式，然后</p>
<p>usb_add host:vid:pid</p>
<p>查看usb设备：</p>
<p>info usb</p>
<p>Windows 7的运行和访问参数与Windows XP类似。</p>
<p><a href="http://www.linux-kvm.org/page/Boot\_from\_virtio\_block\_device" target="_blank" rel="noopener">http://www.linux-kvm.org/page/Boot\_from\_virtio\_block\_device</a>   </p>
<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>Virtio block device is a para-virtualized device for kvm guest. It is different from normal emulated hard drive, because it is simply faster. This small how-to is about how to make a disk para-virtualized and boot from it.</p>
<h1 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h1><h2 id="Steps"><a href="#Steps" class="headerlink" title="Steps"></a>Steps</h2><ol>
<li>create a disk and install os to it by appending “-hda &lt;your_disk_image&gt;” to your virtual machine</li>
<li>in your guest os, upgrade kernel to 2.6.25 which contains virtio_* drivers. or ubuntu 8.04 also has it.</li>
<li>in guest os, change /boot/grub/device.map from “(hd0) /dev/sda” to “(hd0) /dev/vda”</li>
<li>in guest os, change /boot/grub/menu.list from “root=/dev/sda1” to “root=/dev/vda1”, if you are using UUID, then no need to do this step.</li>
<li>enable para-virtualization by changing “-hda &lt;your_disk_image” to “-drive file=&lt;your_disk_image&gt;,if=virtio,boot=on”</li>
</ol>
<p>note: current debian lenny default kernel (2.6.26-2-amd64) will <strong>not</strong> give any output when running “dmesg | grep virtio”</p>
<h2 id="Error-18"><a href="#Error-18" class="headerlink" title="Error 18"></a>Error 18</h2><p>you may experience this error while grub is booting. I solved it by making the /boot the first partition and make it 32MB.</p>
<h2 id="qcow2"><a href="#qcow2" class="headerlink" title="qcow2"></a>qcow2</h2><p>I have problem to boot from qcow2 format image, it will hang while kernel booting. you may convert your disk image to raw format by “qemu-img convert -f qcow2 &lt;your_disk_image&gt; -O raw &lt;a_new_location&gt;”.</p>
<h2 id="Booting-with-lilo"><a href="#Booting-with-lilo" class="headerlink" title="Booting with lilo"></a>Booting with lilo</h2><p>You must add this to your lilo.conf:</p>
<p>boot=/dev/vda disk=/dev/vda bios=0x80 max-partitions=7 </p>
<p>and after your image clausule change:</p>
<p>root=/dev/vda1 </p>
<p>where vda1 is your boot partition</p>
<h2 id="Updating-the-guest-initramfs-with-the-virtio-driver"><a href="#Updating-the-guest-initramfs-with-the-virtio-driver" class="headerlink" title="Updating the guest initramfs with the virtio driver"></a>Updating the guest initramfs with the virtio driver</h2><p>If you are hosting a debian guest then you may want to update its initramfs with the virtio driver as explained in <a href="http://www.linux-kvm.org/page/Using_VirtIO_NIC" title="Using VirtIO NIC" target="_blank" rel="noopener">Using VirtIO NIC</a></p>
<h1 id="Windows-XP"><a href="#Windows-XP" class="headerlink" title="Windows XP"></a>Windows XP</h1><p>Windows driver installation is a bit tricky.</p>
<ul>
<li>In your guest, download the <a href="http://www.linux-kvm.org/page/WindowsGuestDrivers/Download_Drivers" title="WindowsGuestDrivers/Download Drivers" target="_blank" rel="noopener">Windows driver</a></li>
<li>Stop the machine and create a new image that you will add as a second disk</li>
</ul>
<p>kvm-img create -f qcow2 fake.qcow2 1G </p>
<ul>
<li>Start the machine. You will be prompted to install the driver. This is enough to allow to boot on the <em>virtio</em> disk</li>
</ul>
<p>kvm -drive file=windows.qcow2,if=ide,boot=on -drive file=fake.qcow2,if=<strong>virtio</strong> … </p>
<ul>
<li>Restart the m achine, but with the <em>virtio</em> driver on the first disk</li>
</ul>
<p>kvm -drive file=windows.qcow2,if=<strong>virtio</strong>,boot=on </p>
<ul>
<li>You will be prompted once again to install the driver.</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2011/09/07/kpartx-a-common-partition-in-a-virtual-machine-image-file/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="haitian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://q1.qlogo.cn/g?b=qq&nk=493654134&s=5">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haitian的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/09/07/kpartx-a-common-partition-in-a-virtual-machine-image-file/" itemprop="url">kpartx--挂载虚拟机镜像文件里的普通分区</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-09-07T14:53:17+08:00">
                2011-09-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/默认分类/" itemprop="url" rel="index">
                    <span itemprop="name">默认分类</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>用 virt-manager, virsh 或其他工具可以选择把 KVM 或 Xen HVM 的虚拟机安装在一个镜像文件上，虽然因为性能的关系这种方式不推荐在生产环境使用，但是因为用起来非常简便，所以 VPSee 平时做实验或测试的时候会经常用这种方式存储虚拟机。上星期提到了 “<a href="http://www.vpsee.com/2010/10/mount-lvm-volumes-from-loopback-disk-images/" target="_blank" rel="noopener">挂载虚拟机镜像文件里的 LVM 逻辑分区</a>”，那么如何挂载虚拟机镜像文件里的普通分区呢？这比挂载 LVM 逻辑分区要简单多了，不用算那个地址偏移量 offset，也不用 LVM 打交道。</p>
<p>和以前一样，首先用 losetup 工具把 centos.img 文件和 loop 设备映射起来，-f 参数用来找出下一个可用的 loop 设备：</p>
<p># losetup -f /dev/loop0  # losetup /dev/loop0 /home/vpsee/centos.img </p>
<p>一个镜像文件里可能包含多个分区，所以不能简单 mount -o loop centos.img，我们需要把 centos.img 里面包含的每个分区映射出来后在一个一个挂载，所以需要一个工具来读分区表，kpartx 就是这样一个在特定设备上读取分区表并为每个分区创建映射的工具，-a 参数表示加入分区映射；-v 参数表示完成后输出结果：</p>
<p># kpartx -av /dev/loop0 add map loop0p1 : 0 208782 linear /dev/loop0 63 add map loop0p2 : 0 1044225 linear /dev/loop0 208845 add map loop0p3 : 0 19711755 linear /dev/loop0 1253070 </p>
<p>上面 loop0p1, loop0p2, loop0p3 分别映射到镜像文件里的3个分区里，可以通过 fdisk 来查看：</p>
<p># fdisk -l /dev/loop0  Disk /dev/loop0: 10.7 GB, 10737418240 bytes 255 heads, 63 sectors/track, 1305 cylinders Units = cylinders of 16065 <em> 512 = 8225280 bytes        Device Boot      Start         End      Blocks   Id  System /dev/loop0p1   </em>           1          13      104391   83  Linux /dev/loop0p2              14          78      522112+  82  Linux swap / Solaris /dev/loop0p3              79        1305     9855877+  83  Linux </p>
<p>有了上面的映射以后就可以挂载 centos.img 里的普通逻辑分区了，我们这里只挂载 root 分区，root 分区在 loop0p3，挂载成功后用 ls 查看一下是否正确：</p>
<p># ls -l /dev/mapper/ total 0 crw——- 1 root root  10, 63 Sep 24 11:34 control brw-r—– 1 root disk 253,  2 Oct 14 19:55 loop0p1 brw-r—– 1 root disk 253,  3 Oct 14 19:55 loop0p2 brw-r—– 1 root disk 253,  4 Oct 14 19:55 loop0p3  # mount /dev/mapper/loop0p3 /mnt # ls /mnt bin   dev  home  lib64       media  opt   root  selinux  sys  usr boot  etc  lib   lost+found  mnt    proc  sbin  srv      tmp  var </p>
<p>使用完后，需要按顺序干净卸载：</p>
<p># umount /mnt  # kpartx -dv /dev/loop0 del devmap : loop0p1 del devmap : loop0p2 del devmap : loop0p3  # losetup -d /dev/loop0</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2011/09/05/the-setting-of-kvm-bridge-in-centos/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="haitian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://q1.qlogo.cn/g?b=qq&nk=493654134&s=5">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haitian的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/09/05/the-setting-of-kvm-bridge-in-centos/" itemprop="url">centos中kvm网桥的设置</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-09-05T17:57:27+08:00">
                2011-09-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/默认分类/" itemprop="url" rel="index">
                    <span itemprop="name">默认分类</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>新建一个ifcfg－br0文件：</p>
<p>DEVICE=br0<br>TYPE=Bridge<br>BOOTPROTO=static<br>BROADCAST=10.1.255.255<br>IPADDR=10.1.29.3<br>NETMASK=255.255.0.0<br>NETWORK=10.1.0.0<br>ONBOOT=yes</p>
<p>然后修改相应网卡的配置文件，我的是eth1：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">\# Realtek Semiconductor Co., Ltd. RTL-8169 Gigabit Ethernet  </span><br><span class="line">DEVICE=eth1  </span><br><span class="line">#BOOTPROTO=none  </span><br><span class="line">#BROADCAST=10.1.255.255  </span><br><span class="line">HWADDR=D8:5D:4C:74:EE:E8  </span><br><span class="line">#IPADDR=10.1.29.3  </span><br><span class="line">#NETMASK=255.255.0.0  </span><br><span class="line">#NETWORK=10.1.0.0  </span><br><span class="line">ONBOOT=yes  </span><br><span class="line">#TYPE=Ethernet  </span><br><span class="line">#USERCTL=no  </span><br><span class="line">#IPV6INIT=no  </span><br><span class="line">#PEERDNS=yes  </span><br><span class="line">BRIDGE=br0</span><br></pre></td></tr></table></figure></p>
<p>可以看出，原来网卡的配置只保留device名称，硬件地址，onboot选项，以及新添加的BRIDGE=br0。</p>
<p>然后重启网络：</p>
<p>/etc/init.d/network restart 或service network restart</p>
<p>实验中在br0中加入gateway后，/etc/sysconfig/network中的gateway就消失了。成功后，利用route -n查看路由，发现所有的包都从br0走了。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2011/09/01/udev-s-plan-for-resolving-multiple-network-cards-to-prevent-sequential-changes-from-restarting/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="haitian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://q1.qlogo.cn/g?b=qq&nk=493654134&s=5">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haitian的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/09/01/udev-s-plan-for-resolving-multiple-network-cards-to-prevent-sequential-changes-from-restarting/" itemprop="url">udev关于解决多网卡，防止重启时顺序改变的方案</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-09-01T15:57:24+08:00">
                2011-09-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>昨天walfred在群里面，看到了一条“关于机器上面有多网卡，并且做了bond，重启之后却乱序了”的问题，提问的是一名叫Daemon的网友，Daemon之前研究过gentoo，现在貌似转战cent os了，这也是他在搞cent os的时候，遇到的问题，walfred之前只听过cent os,却一直没有接触过，这边就借Daemon的问题记载下这个解决方案。并且也希望自己多和Daemon学习cent os的一些使用技巧。</p>
<p>问题：如标题</p>
<p>这里稍微补充下：如果你有两张网卡，一个是主板上自带的，还有一个是后来自己添加的。装完系统后，系统默认主板上的网卡为eth1，而自己添加的网卡是eth0，所以想办法使用udev使系统将主板上的网卡命名为eth0。</p>
<p>解决方案：</p>
<p>cd /etc/udev/rules.d</p>
<p>找到60-net.rules，备份该文件</p>
<p>mv 60-net.rules 60-net.rules.bak</p>
<p>新建文件60-net.rules，内容如下：</p>
<p>[root@localhost rules.d]# cat 60-net.rules</p>
<p>SUBSYSTEM==”net”, ACTION==”add”, SYSFS{address}==”你自己的网卡1的mac地址”,</p>
<p>IMPORT=”/lib/udev/rename_device %k eth0”</p>
<p>SUBSYSTEM==”net”, ACTION==”add”, SYSFS{address}==”你自己的网卡2的mac地址”,</p>
<p>IMPORT=”/lib/udev/rename_device %k eth1”</p>
<p>其中需要注意的是，你要将你自己的网卡的mac地址做相应的更改。</p>
<p>重启电脑，一切ok。<br>不重启的话比较麻烦一点，下面介绍一下<br>使用udevinfo 获取网卡物理设备信息<br>udevinfo -a -p /sys/class/net/eth0<br>取消mac等信息<br>然后添加规则如：SUBSYSTEM==”net”,SYSFS{address}==”00:11:5b:d1:0e:f8”,NAME=”lan0”<br>注意：在udev规则文件中必须使用小写的16进制MAC地址，udev无法识别大写的MAC地址（或直接以udevinfo 的输出为准）。<br>如果修改了设备名，需要重新启动udev<br>由于需重命名网络设备，故需停止网络，并卸载网卡驱动模块：<br>ervice network stop;rmmod 8139cp;rmmod 8139too;start_udev;service network start<br>若没有停止网络，而该网卡设备仍在使用中，重启udev 服务时，会报错：<br>Sep  1 15:43:57 ax3sp3 udevd-event[3077]: rename_netif: error changing netif name: Device or resource busy</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2011/08/30/rhel5-4-for-chinese-sorting-problem/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="haitian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://q1.qlogo.cn/g?b=qq&nk=493654134&s=5">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haitian的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/08/30/rhel5-4-for-chinese-sorting-problem/" itemprop="url">RHEL5.4对中文排序问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-08-30T17:07:04+08:00">
                2011-08-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/默认分类/" itemprop="url" rel="index">
                    <span itemprop="name">默认分类</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>今天德哥发现rhel5.4上使用sort对中文进行拼音排序，而在rhel6中是正常的。现象如下：</p>
<p>[root@rhel5-2 ~]# locale</p>
<p>LANG=zh_CN.utf-8</p>
<p>LC_CTYPE=zh_CN.utf-8</p>
<p>LC_NUMERIC=”zh_CN.utf-8”</p>
<p>LC_TIME=”zh_CN.utf-8”</p>
<p>LC_COLLATE=zh_CN.utf-8</p>
<p>LC_MONETARY=”zh_CN.utf-8”</p>
<p>LC_MESSAGES=”zh_CN.utf-8”</p>
<p>LC_PAPER=”zh_CN.utf-8”</p>
<p>LC_NAME=”zh_CN.utf-8”</p>
<p>LC_ADDRESS=”zh_CN.utf-8”</p>
<p>LC_TELEPHONE=”zh_CN.utf-8”</p>
<p>LC_MEASUREMENT=”zh_CN.utf-8”</p>
<p>LC_IDENTIFICATION=”zh_CN.utf-8”</p>
<p>LC_ALL=</p>
<p>[root@rhel5-2 ~]# cat test</p>
<p>中国</p>
<p>日本</p>
<p>美国</p>
<p>上海</p>
<p>[root@rhel5-2 ~]# sort test</p>
<p>上海</p>
<p>中国</p>
<p>日本</p>
<p>美国</p>
<p>[root@rhel5-2 ~]# rpm -qa|grep glibc</p>
<p>glibc-common-2.5-42</p>
<p>glibc-devel-2.5-42</p>
<p>glibc-2.5-42</p>
<p>glibc-headers-2.5-42</p>
<p>这其实是因为中文本地化数据并没有包含拼音排序的信息。即glibc中的local数据不包含对中文按拼音和笔画的排序</p>
<p>官方上bug的提交如下：</p>
<p><a href="http://sources.redhat.com/ml/glibc-bugs/2007-02/msg00068.html" target="_blank" rel="noopener">http://sources.redhat.com/ml/glibc-bugs/2007-02/msg00068.html</a></p>
<p><a href="http://sourceware.org/bugzilla/show_bug.cgi?id=4024" target="_blank" rel="noopener">http://sourceware.org/bugzilla/show_bug.cgi?id=4024</a></p>
<p>现在给出解决方案，如下：</p>
<p>现在通过安装一种额外的中文本地化数据zh_CN@pinyin就可以让你在UTF-8和GB18030字符集下都可以正确的排序中文。 即locale-pinyin</p>
<p>介绍</p>
<p>＝＝</p>
<p>按拼音排序的中文locale。</p>
<p>在类Unix中为了能够正确的排序电脑中的中文，你必须有能够正确对中文进行排序</p>
<p>的locale数据。而glibc包含的locale数据一直没能对中文按照拼音或者笔画排</p>
<p>序。本软件则是为你在电脑中增加一种按照拼音排序的中文locale。</p>
<p>安装</p>
<p>＝＝</p>
<p>系统需求：</p>
<p>1、系统需要有符合X/Open标准的localedef工具</p>
<p>2、5.8.1以上的perl</p>
<p>安装：</p>
<p>$make</p>
<p>#make install</p>
<p>配置</p>
<p>＝＝</p>
<p>为了生效，你必须正确配置locale环境变量。</p>
<p>推荐仅设置LC_COLLATE为本locale，比如：</p>
<p>LANG=zh_CN.UTF-8</p>
<p>LC_COLLATE=zh_<a href="mailto:CN@pinyin.utf8" target="_blank" rel="noopener">CN@pinyin.utf8</a></p>
<p>注意：不要同时设置LC_ALL和LC_COLLATE，这样可能会导致本locale不能正确生</p>
<p>效。</p>
<p>再跟踪glibc，发现官方在比较新的版本中已经把local_pinyin合并进去了(glibc2.6以上)，如下：</p>
<p><a href="http://sourceware.org/cgi-bin/cvsweb.cgi/libc/localedata/locales/iso14651_t1_pinyin?rev=1.1&amp;content-type=text/x-cvsweb-markup&amp;cvsroot=glibc" target="_blank" rel="noopener">http://sourceware.org/cgi-bin/cvsweb.cgi/libc/localedata/locales/iso14651_t1_pinyin?rev=1.1&amp;content-type=text/x-cvsweb-markup&amp;cvsroot=glibc</a></p>
<p>升级glibc是一个比较大的工程，涉及也比较广，建议在用rhel5时先打上local_pinyin补丁，或者可以考虑使用rhel6</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2011/08/17/cacti-monitors-tcp-connection-number-and-solves-ipv6-problem/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="haitian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://q1.qlogo.cn/g?b=qq&nk=493654134&s=5">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haitian的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/08/17/cacti-monitors-tcp-connection-number-and-solves-ipv6-problem/" itemprop="url">cacti 监控tcp连接数，ipv6问题解决</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-08-17T14:06:12+08:00">
                2011-08-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/默认分类/" itemprop="url" rel="index">
                    <span itemprop="name">默认分类</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>原文为<a href="http://xok.la/2010/04/cacti_netstat_tcp.html" target="_blank" rel="noopener">http://xok.la/2010/04/cacti_netstat_tcp.html</a>，是通过snmpnetstat去拿回来的数据再做处理的，但问题就来了，snmpnetstat 拿到的数据只有ipv4的连接，ipv6的连接全部都没有拿过来。差别还很大。</p>
<p>google了好久，也查了不少资料，但还是没有解决，最后只好去查看net-snmp的文档，<a href="http://net-snmp.sourceforge.net/docs/" target="_blank" rel="noopener">http://net-snmp.sourceforge.net/docs/</a>查看oid，最后查看可以使用.1.3.6.1.2.1.6.19这一个oid获取到数据，再对数据做统计修改脚本，基本实现了tcp的监控问题。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2011/08/17/sharing-session-memcached-session-the-manager/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="haitian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://q1.qlogo.cn/g?b=qq&nk=493654134&s=5">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haitian的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/08/17/sharing-session-memcached-session-the-manager/" itemprop="url">共享session,memcached-session-manager</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-08-17T09:51:36+08:00">
                2011-08-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/默认分类/" itemprop="url" rel="index">
                    <span itemprop="name">默认分类</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>1.memcached-2.5.jar,memcached-session-manager-XXX.jar    </p>
<p><a href="http://code.google.com/p/memcached-session-manager/" target="_blank" rel="noopener">http://code.google.com/p/memcached-session-manager/</a></p>
<p><a href="http://code.google.com/p/spymemcached/" target="_blank" rel="noopener">http://code.google.com/p/spymemcached/</a></p>
<p>将附件中的两个包放入tomcat的lib 目录下</p>
<p>用新版本的测试还有点问题java.lang.IllegalArgumentException: No node found for key bak，使用原来的1.4的版本正常  </p>
<ol start="2">
<li><p>修改tomcat的server.xml配置（在Host节点之间添加如下配置）：  </p>
<pre><code>&lt;Context path=&quot;&quot; docBase=&quot;/app/wap/server/sns&quot;&gt;  
         &lt;Manager className=&quot;de.javakaffee.web.msm.MemcachedBackupSessionManager&quot;  
         memcachedNodes=&quot;n1:192.168.169.47:11212 n2:192.168.169.47:11213&quot;  
         failoverNodes=&quot;n2&quot;   
         sticky=&quot;false&quot;   
         requestUriIgnorePattern=&quot;.*\\.(png|gif|jpg|css|js)$&quot;  
         transcoderFactoryClass=&quot;de.javakaffee.web.msm.JavaSerializationTranscoderFactory&quot; /&gt;  
&lt;/Context&gt;
</code></pre></li>
</ol>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2011/08/15/ext3-ext4-file-system-large-partition-support/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="haitian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://q1.qlogo.cn/g?b=qq&nk=493654134&s=5">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haitian的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/08/15/ext3-ext4-file-system-large-partition-support/" itemprop="url">(转)ext3/ext4文件系统大分区支持</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-08-15T16:51:04+08:00">
                2011-08-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/默认分类/" itemprop="url" rel="index">
                    <span itemprop="name">默认分类</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>很长一段时间以来，ext3是很多linux发行版默认的文件系统，目前ext4已经正式发布，已经有发行版开始使用ext4作为默认的文件系统了，其实最初的时候ext4是作为ext3的扩展，但是为了保证ext3的稳定性等原因，很多人反对直接对ext3进行扩展，所以单独作为了ext4项目。</p>
<pre><code>ext3还是使用15个inode来查找数据块，前12个为直接数据块，直接指向存储数据的数据块，接下来分别为一级间接块，二级间接块，三级间接块，跟下图一致：  
</code></pre><p><img src="http://img.blog.163.com/photo/sKMI40PlO7t27_CM0STucw==/5761792773267886366.jpg" alt="ext3/ext4文件系统大分区支持 - zhuzhu - 五事九思" title="(转)ext3/ext4文件系统大分区支持 - suchalin - 态度决定高度"><br>其中point本来也是数据块，现在拿来做数据块的索引用，其中ext3的头文件定义为： __u32 i_block[EXT3_N_BLOCKS];/<em> Pointers to blocks </em>/，所以可以计算ext3文件系统的极限：<br>最大分区：<br>         因为定义的是无符号32位数，所以可能定位的block范围为2^32，也就是4G，如果一个block大小为4KB，所以为4G <em> 4KB = 16TB<br>最大文件：<br>         前面直接指向12个数据块，一级间接块最大为block size / 4，block size就是数据块的大小，因为一个索引是4个字节，所以除以4，这样计算下来，最大的文件可以使用的总块数为:12 + (block size/4) + (block size/4)^2 + (block size/4)^3，如果block size大小为4K，则为(12 + 2^10 + 2^20 + 2^30) </em> 2^12 约等于4T。</p>
<pre><code>为了突破ext3这个大小限制，ext4使用了48位的数据块索引空间，同时使用了如下结构代替inode索引的方式：  
</code></pre><p>struct ext3_extent {<br>__u32 ee_block; /<em> first logical block extent covers </em>/<br>__u16 ee_len;   /<em> number of blocks covered by extent </em>/<br>__u16 ee_start_hi; /<em> high 16 bits of physical block </em>/<br>__u32 ee_start; /<em> low 32 bigs of physical block </em>/<br>};<br>这样查找数据块的时候就不是每个块建立一个索引，而且使用连续的数据块，也就是分别指示起始位置，以及连续的块数，这样在大文件的时候，磁盘io效率以及查找数据块效率上都有很大的提高，所以ext4的文件系统也比ext3出色。因为使用了48位的索引空间，所以在4KB块大小的情况下，文件系统的极限是2^48 * 4KB = 1EB，不过，目前由于工具的限制，只能使用16TB的分区。</p>
<p>不过是自己的理解，也欢迎朋友指正。</p>
<p>硬盘驱动器上的空间划分（或者说分区）为多个分区。分区不能重叠，未分配给分区的空间称为剩余空间。分区名的形式类似于 /dev/hda1、/dev/hda2、/dev/hda3、/dev/sda1 等。在未使用 IDE 驱动器热插拔支持的系统上，IDE 驱动器最多支持 63 个分区。通过热插拔支持的 SCSI 驱动器、USB 驱动器和 IDE 驱动器最多可有 15 个分区。一个分区通常会分配为整数个柱面（柱面概念可能存在不准确之处）。</p>
<p><a href="http://www.ibm.com/developerworks/cn/linux/l-lpic1-v3-102-1/?S_TACT=105AGX52&amp;S_CMP=tec-ccid" target="_blank" rel="noopener">http://www.ibm.com/developerworks/cn/linux/l-lpic1-v3-102-1/?S_TACT=105AGX52&amp;S_CMP=tec-ccid</a></p>
<p>EXT3与EXT4的主要区别  </p>
<p>Linux kernel 自 2.6.28 开始正式支持新的文件系统 Ext4。 Ext4 是 Ext3 的改进版，修改了 Ext3 中部分重要的数据结构，而不仅仅像 Ext3 对 Ext2 那样，只是增加了一个日志功能而已。Ext4 可以提供更佳的性能和可靠性，还有更为丰富的功能：</p>
<p>1. 与 Ext3 兼容。 执行若干条命令，就能从 Ext3 在线迁移到 Ext4，而无须重新格式化磁盘或重新安装系统。原有 Ext3 数据结构照样保留，Ext4 作用于新数据，当然，整个文件系统因此也就获得了 Ext4 所支持的更大容量。</p>
<p>2. 更大的文件系统和更大的文件。 较之 Ext3 目前所支持的最大 16TB 文件系统和最大 2TB 文件，Ext4 分别支持 1EB（1,048,576TB， 1EB=1024PB， 1PB=1024TB）的文件系统，以及 16TB 的文件。<br>3. 无限数量的子目录。 Ext3 目前只支持 32,000 个子目录，而 Ext4 支持无限数量的子目录。</p>
<p>4. Extents。 Ext3 采用间接块映射，当操作大文件时，效率极其低下。比如一个 100MB 大小的文件，在 Ext3 中要建立 25,600 个数据块（每个数据块大小为 4KB）的映射表。而 Ext4 引入了现代文件系统中流行的 extents 概念，每个 extent 为一组连续的数据块，上述文件则表示为“该文件数据保存在接下来的 25,600 个数据块中”，提高了不少效率。</p>
<p>5. 多块分配。 当 写入数据到 Ext3 文件系统中时，Ext3 的数据块分配器每次只能分配一个 4KB 的块，写一个 100MB 文件就要调用 25,600 次数据块分配器，而 Ext4 的多块分配器“multiblock allocator”（mballoc） 支持一次调用分配多个数据块。</p>
<p>6. 延迟分配。 Ext3 的数据块分配策略是尽快分配，而 Ext4 和其它现代文件操作系统的策略是尽可能地延迟分配，直到文件在 cache 中写完才开始分配数据块并写入磁盘，这样就能优化整个文件的数据块分配，与前两种特性搭配起来可以显著提升性能。</p>
<p>7. 快速 fsck。 以前执行 fsck 第一步就会很慢，因为它要检查所有的 inode，现在 Ext4 给每个组的 inode 表中都添加了一份未使用 inode 的列表，今后 fsck Ext4 文件系统就可以跳过它们而只去检查那些在用的 inode 了。</p>
<p>8. 日志校验。 日志是最常用的部分，也极易导致磁盘硬件故障，而从损坏的日志中恢复数据会导致更多的数据损坏。Ext4 的日志校验功能可以很方便地判断日志数据是否损坏，而且它将 Ext3 的两阶段日志机制合并成一个阶段，在增加安全性的同时提高了性能。</p>
<p>9. “无日志”（No Journaling）模式。 日志总归有一些开销，Ext4 允许关闭日志，以便某些有特殊需求的用户可以借此提升性能。</p>
<p>10. 在线碎片整理。 尽管延迟分配、多块分配和 extents 能有效减少文件系统碎片，但碎片还是不可避免会产生。Ext4 支持在线碎片整理，并将提供 e4defrag 工具进行个别文件或整个文件系统的碎片整理。</p>
<p>11. inode 相关特性。 Ext4 支持更大的 inode，较之 Ext3 默认的 inode 大小 128 字节，Ext4 为了在 inode 中容纳更多的扩展属性（如纳秒时间戳或 inode 版本），默认 inode 大小为 256 字节。Ext4 还支持快速扩展属性（fast extended attributes）和 inode 保留（inodes reservation）。</p>
<p>12. 持久预分配（Persistent preallocation）。 P2P 软件为了保证下载文件有足够的空间存放，常常会预先创建一个与所下载文件大小相同的空文件，以免未来的数小时或数天之内磁盘空间不足导致下载失败。 Ext4 在文件系统层面实现了持久预分配并提供相应的 API（libc 中的 posix_fallocate()），比应用软件自己实现更有效率。</p>
<p>13. 默认启用 barrier。 磁 盘上配有内部缓存，以便重新调整批量数据的写操作顺序，优化写入性能，因此文件系统必须在日志数据写入磁盘之后才能写 commit 记录，若 commit 记录写入在先，而日志有可能损坏，那么就会影响数据完整性。Ext4 默认启用 barrier，只有当 barrier 之前的数据全部写入磁盘，才能写 barrier 之后的数据。（可通过 “mount -o barrier=0″ 命令禁用该特性。）</p>
<p>Ext3 和 ext4 文件系统在线调整大小内幕<br><a href="http://www.ibm.com/developerworks/cn/linux/l-cn-ext4resize/" target="_blank" rel="noopener">http://www.ibm.com/developerworks/cn/linux/l-cn-ext4resize/</a></p>
<p><a href="http://zauc.wordpress.com/2011/02/11/%E5%88%9D%E6%8E%A2ext4%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/" target="_blank" rel="noopener">http://zauc.wordpress.com/2011/02/11/%E5%88%9D%E6%8E%A2ext4%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/</a><br> <img src="http://blog.atop.fun/wp-content/uploads/netease/other_site/img229_ph_2141180147839541743.jpg" alt="ext3/ext4文件系统大分区支持 - zhuzhu - 五事九思" title="(转)ext3/ext4文件系统大分区支持 - suchalin - 态度决定高度">  </p>
<p>ext4-howto中文<br><a href="http://zauc.wordpress.com/2011/02/18/ext4-howto%E4%B8%AD%E6%96%87/" target="_blank" rel="noopener">http://zauc.wordpress.com/2011/02/18/ext4-howto%E4%B8%AD%E6%96%87/</a><br><img src="http://blog.atop.fun/wp-content/uploads/netease/other_site/img687_ph_2824882866269436195.png" alt="ext3/ext4文件系统大分区支持 - zhuzhu - 五事九思" title="(转)ext3/ext4文件系统大分区支持 - suchalin - 态度决定高度">  </p>
<p>目前网络中充斥着各种Linux文件系统，用户很难在不了解这么多种文件系统的情况下从中做出一个好的并且适合自己选择，下面的内容转自<a href="http://www.linuxeden.com/" target="_blank" rel="noopener">LinuxEden</a>网站，由于年代久远，原文链接已丢失，并且我在其中加入了EXT4的介绍。熟悉文件系统特性并选择一个合适的文件系统有利于充分利用磁盘物理属性。</p>
<p>1、ext</p>
<p>ext 是第一个专门为 Linux 的文件系统类型,叫做扩展文件系统。它在 1992 年 4 月完成的。它为 Linux 的发展取得了重要作用。但是在性能和兼容性上存在许多缺陷。现在已经很少使用了。</p>
<p>2、ext2</p>
<p>ext2 是为解决 ext 文件系统的缺陷而设计的可扩展的高性能的文件系统。又被称为二级扩展文件系统。它是在 1993 年发布的,设计者是 Rey Card。ext2 是 Linux 文件系统类型中使用最多的格式。并且在速度和 CPU 利用率上较突出,是 GNU/Linux 系统中标准的文件系统,其特点为存取文件的性能极好,对于中小型的文件更显示出优势,这主要得利于其簇快取层的优良设计。2000 年以前几乎所有的 Linux 发行版都用 ext2 作为默认的文件系统。</p>
<p>3、ext3</p>
<p>ext3 是由开放资源社区开发的日志文件系统,主要开发人员是 Stephen tweedie。ext3被设计成是 ext2 的升级版本,尽可能地方便用户从 ext2fs 向 ext3fs 迁移。ext3 在 ext2的基础上加入了记录元数据的日志功能,努力保持向前和向后的兼容性。这个文件系统被称为 ext2 的下一个版本。也就是在保有目前 ext2 的格式之下再加上日志功能。ext3 是一种日志式文件系统。日志式文件系统的优越性在于:由于文件系统都有快取层参与运作,如不使用时必须将文件系统卸下,以便将快取层的资料写回磁盘中。因此每当系统要关机时,必须将其所有的文件系统全部卸下后才能进行关机。如果在文件系统尚未卸下前就关机 (如停电) 时,下次重开机后会造成文件系统的资料不一致,故这时必须做文件系统的重整工作,将不一致与错误的地方修复。</p>
<p>4、ext4</p>
<p>ext4 是一种针对 ext3 系统的扩展日志式文件系统,是 专 门为 Linux 开发的原始的扩展文件系统(ext 或 extfs)的第四版。它 具有更高的兼容性并且消 除了存储限制,从 ext3升级至 ext4 不需要格式化分区。它的子目录具有可伸缩性。ext4 使用了一个多块分配来在一次调用中分配很多块。替换掉每次分配一个块,减少系统开销。在延时分配和 extends 上十分有用。而延迟分配是一个性能特性(它不修改磁盘格式)。相对于传统文件系统(例如ext3、reiser3、etc)所做的立刻分配块提供了更好的性能。</p>
<p>5、JFS</p>
<p>jsf 提供了基于日志的字节级文件系统,该文件系统是为面向事务的高性能系统而开发的。jsf 的开发者包括 AIX 的 jsf 的主要开发者。在 AIX 上,jfs 已经经受住了考验。它是可靠、快速和容易使用的。2000 年 2 月,ibm 宣布在一个开放资源许可证下,移植 linux 版的 JSF 文件系统。 JSFs 也是一个有大量用户安装使用的企业级文件系统。它具有可伸缩性和健壮性,与非日志文件系统相比,它的优点是其快速重启能力:Jfs 能够在几秒或几分钟内就把文件系统恢复到一致状态。虽然 jsf 主要是为满足服务器的高吞吐量和可靠性需求而设计的,jsf 还可用于想得到高性能和可靠性的客户机配置因为在系统崩溃时,jsf 能提供快速文件系统重启时间,所以它是因特网文件服务器的关键技术。使用数据库日志处理技术,jsf 能在几秒或几分钟之内把文件系统恢复到一致状态。而在非日志文件系统中,文件恢复可能花费几小时或几天。</p>
<p>6、ReiserFS</p>
<p>ReiserFS 的第一次公开亮相是在 1997 年 7 月 23 日,Hans Reiser 把他的基于平衡树结构的 ReiserFS 文件系统在网上公布。ReiserFS 3.6.x 是由 Hans Reiser 和他的在 Namesys的开发组共同开发设计的。Reiserfs 被看作是一个更加激进和现代的文件系统。传统的UNIX 文件系统是按盘块来进行空间分配的,对于目录和文件等的查找使用了简单的线性查找。这些设计在当时是合适的,但随着磁盘容量的增大和应用需求的增加,传统文件系统在存储效率,速度和功能上已显落后。 ReiserFS 一个最受人批评的缺点是每升级一个版本,都将要将磁盘重新格式化一次。</p>
<p>7、xfs</p>
<p>xfs 是一种非常优秀的日志文件系统,它是 SGI 公司设计的。xfs 被称为业界最先进的、最具可升级性的文件系统技术。SGI 的 xfs 可为 linux 和开放资源社区带来的新特性有:可升级性:xfs 被设计成可升级,以面对大多数的存储容量和 i/o 存储需求,可处理大型文件和包含巨大数量文件的大型目录,满足二十一世纪快速增长的磁盘需求。xfs 有能力动态地为文件分配索引空间,使系统形成高效支持大数量文件的能力。优秀的 i/o 性能:典型的现代服务器使用大型的条带式磁盘阵列,以提供达数 gb/秒的总带宽。xfs 可以很好地满足 I/O 请求的大小和并发 I/O 请求的数量。xfs 可作为 root 文件系统,并被 lilo 支持.在 NFS 服务器上使用也没问题.支持软件磁盘阵列(RAID)和虚拟集群(LVM)。由于 xfs 比较复杂,实施起来有一些难度</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2011/08/08/use-inode-to-delete-files-under-linux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="haitian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://q1.qlogo.cn/g?b=qq&nk=493654134&s=5">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haitian的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/08/08/use-inode-to-delete-files-under-linux/" itemprop="url">Linux下使用inode删除文件</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-08-08T11:09:44+08:00">
                2011-08-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/默认分类/" itemprop="url" rel="index">
                    <span itemprop="name">默认分类</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Linux 下有时候某些文件无法使用 rm 直接删除, 比如该文件的文件名含有终端不能正确显示的字符.<br># ls -li<br>total 0<br>441511 -rw-r–r– 1 root root 0 Apr 6 23:13 ???}????<br>当然如果该文件夹下没有别的文件. 可以直接 rm -rf * 删除,但是如果有别的不想删除的. 就只能通过 inode 删除了<br># find . -inum 441511 -delete<br>rm -i `find . -maxdepth 1 -inum 45656 -print`</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2011/08/03/the-difference-between-memory-buffer-and-cache-in-the-linux-operating-system/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="haitian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://q1.qlogo.cn/g?b=qq&nk=493654134&s=5">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haitian的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/08/03/the-difference-between-memory-buffer-and-cache-in-the-linux-operating-system/" itemprop="url">Linux操作系统中内存buffer和cache的区别</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-08-03T16:34:25+08:00">
                2011-08-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/默认分类/" itemprop="url" rel="index">
                    <span itemprop="name">默认分类</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Free<br>　　free 命令相对于top 提供了更简洁的查看系统内存使用情况：</p>
<p>　　$ free<br>　　total used free shared buffers cachedMem: 255268 238332 16936 0 85540 126384-/+ buffers/cache: 26408 228860Swap: 265000 0 265000</p>
<p>　　Mem：表示物理内存统计<br>　　-/+ buffers/cached：表示物理内存的缓存统计<br>　　Swap：表示硬盘上交换分区的使用情况，这里我们不去关心。</p>
<p>　　系统的总物理内存：255268Kb（256M），但系统当前真正可用的内存b并不是第一行free 标记的 16936Kb，它仅代表未被分配的内存。</p>
<p>　　我们使用total1、used1、free1、used2、free2 等名称来代表上面统计数据的各值，1、2 分别代表第一行和第二行的数据。</p>
<p>　　total1：表示物理内存总量。</p>
<p>　　used1：表示总计分配给缓存（包含buffers 与cache ）使用的数量，但其中可能部分缓存并未实际使用。</p>
<p>　　free1：未被分配的内存。</p>
<p>　　shared1：共享内存，一般系统不会用到，这里也不讨论。</p>
<p>　　buffers1：系统分配但未被使用的buffers 数量。</p>
<p>　　cached1：系统分配但未被使用的cache 数量。buffer 与cache 的区别见后面。</p>
<p>　　used2：实际使用的buffers 与cache 总量，也是实际使用的内存总量。</p>
<p>　　free2：未被使用的buffers 与cache 和未被分配的内存之和，这就是系统当前实际可用内存。</p>
<p>　　可以整理出如下等式：<br>　　total1 = used1 + free1total1 = used2 + free2used1 = buffers1 + cached1 + used2free2 = buffers1 + cached1 + free1</p>
<p>　　buffer 与cache 的区别<br>　　A buffer is something that has yet to be “written” to disk. A cache is something that has been “read” from the disk and stored for later use.</p>
<p>　　更详细的解释参考：Difference Between Buffer and Cache</p>
<p>　　对于共享内存（Shared memory），主要用于在UNIX 环境下不同进程之间共享数据，是进程间通信的一种方法，一般的应用程序不会申请使用共享内存，笔者也没有去验证共享内存对上面等式的影响。如果你有兴趣， 请参考：What is Shared Memory?</p>
<p>　　cache 和 buffer的区别：<br>　　Cache：高速缓存，是位于CPU与主内存间的一种容量较小但速度很高的存储器。由于 CPU的速度远高于主内存，CPU直接从内存中存取数据要等待一定时间周期，Cache中保存着CPU刚用过或循环使用的一部分数据，当CPU再次使用该 部分数据时可从Cache中直接调用,这样就减少了CPU的等待时间,提高了系统的效率。Cache又分为一级Cache(L1 Cache)和二级Cache(L2 Cache)，L1 Cache集成在CPU内部，L2 Cache早期一般是焊在主板上,现在也都集成在CPU内部，常见的容量有256KB或512KB L2 Cache。</p>
<p>　　Buffer：缓冲区，一个用于存储速度不同步的设备或优先级不同的设备之间传输数据的区域。通过缓冲区，可以使进程之间的相互等待变少，从而使从速度慢的设备读入数据时，速度快的设备的操作进程不发生间断。</p>
<p>　　Free中的buffer和cache：（它们都是占用内存）：</p>
<p>　　buffer : 作为buffer cache的内存，是块设备的读写缓冲区</p>
<p>　　cache: 作为page cache的内存, 文件系统的cache</p>
<p>　　如果 cache 的值很大，说明cache住的文件数很多。如果频繁访问到的文件都能被cache住，那么磁盘的读IO bi会非常小。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/28/">28</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="http://q1.qlogo.cn/g?b=qq&nk=493654134&s=5"
                alt="haitian" />
            
              <p class="site-author-name" itemprop="name">haitian</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">278</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">分类</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">164</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">haitian</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
