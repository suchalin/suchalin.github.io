<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="haitian的博客">
<meta property="og:url" content="http://yoursite.com/page/7/index.html">
<meta property="og:site_name" content="haitian的博客">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="haitian的博客">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/7/"/>





  <title>haitian的博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">haitian的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">为了更好的生活而奋斗!</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2011/01/18/a-little-insight-into-the-nce-program/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="haitian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://q1.qlogo.cn/g?b=qq&nk=493654134&s=5">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haitian的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/01/18/a-little-insight-into-the-nce-program/" itemprop="url">关于报读NCE课程的小小心得</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-01-18T14:23:21+08:00">
                2011-01-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/默认分类/" itemprop="url" rel="index">
                    <span itemprop="name">默认分类</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>本科毕业后，换了几份工作，但是总觉得在这个社会中找不到自己的位置，表面上是在积极地工作，但胸口却藏着一颗迷茫、缺乏自信的心。回忆起中学时光，我是一个多么自信的小伙子，完全是一个闭着眼睛便可以考上大学的优等理科生。因此，我对自己说：我不能再这样的活下去，我必须重新找回那久违的信心！可是那份信心藏在哪儿了呢？我陷入了迷茫。我一直在想：究竟是什么事情让我不再自信呢？这个问题让我失眠了一个星期，到了第八天的早上，我的一个朋友在网上给我发了一个网址，打开一看，是一个英文网站，而也就在意识到这是一个英文网站的瞬间，我的潜意识立即让我回了一条信息“晕！全英文的，要我怎么看啊”。而也就在这一刻，我突然意识到了问题的严重性：我终于找到了失去自信的关键——一股面对英语的畏难情绪！</p>
<p>所以，就我而言，要重拾信心，就首先得学好英语，而学好英语的关键就是要打好基础。况且，要不就不学，要学就要把它学透学精，于是我选择了辞职，全身心地投入到英语学习中。通过网友的推荐，我决定报读《新概念英语》的课程，由于在此之前，我从未报读过任何一所培训学校，所以选择学校时候也相对比较谨慎。首先，学校要有一定的社会知名度（因为这样，师资才有保证）；第二，性价比高（相对便宜的价钱能上更多的课时）；第三，允许试听（试听后不满意的就可以不再报读，将教育投资风险减到最低）。所以，鉴于这三点，我选择了新东方。</p>
<p>当我来到了黄花岗校区，把我的英语状况向前台的一名服务人员讲述了后，她建议我报读新概念二册的课程。当时听了后，我的内心有种说不出的难受。我本来是想报读新概念三册课程，因为我自问自己：我无论如何都是一名本科生，怎么还要从新概念二册学起？难道以往那么多年的英语学习都白搭了？我真的不能接受这事实，我的信心受到了打击。从那天晚上开始，连续五天，我都没能睡好觉，我的左脑和右脑一直在互相斗争，但谁也没能说服谁。第六天，我勉强作出了决定：先去试听一下新概念二册课程，然后再作决定。</p>
<p>2006年8月，我开始了我的新概念二册的旅程。我原以为，这个班几乎是中学生的场所，但随后却惊讶地发现，这个班的绝大部分学员都是和我一样已走出校园的人士，这使我内心产生了一丝的安慰和鼓舞。但是，真正让我下定决心报读二册课程的，是一名叫范琛的老师（他的英文名字是Sam）。上课之前，他在黑板上写了一句话：Attitude decides altitude ! 正是这一句普通得不能再普通的话坚定了我的信念。直到现在，我已经在新东方完成了三个课程，但却不曾缺席任何一节课，就因为他写的一句“Attitude decides altitude”。</p>
<p>而在新概念二册的学习过程中，我运用的是最笨、最耗费时间的方法：听、背和译。晚上上课，然后第二天白天就在家里通过泛听和精听，把课文都完全听懂了，然后就背下来，日复一日地坚持着，每到周日、周一就把之前所背的课文重新背诵，强迫把课文都印在脑子里，完全不需要考虑如何灵活应用，因为我知道，如果脑子里面没有一定量的文章，根本就不懂得如何灵活应用。二册一共是96课（其中有10篇课文是自学的），课程越往后，学习量就会越大（因为周日、周一需要重新背诵的课文就越多，但却绝不能偷懒，因为前三个单元是打基础的，讲得很详细，到了第四单元的进度就变得很快。如果前三个单元偷懒的话，到了第四单元的课程，就会觉得很难，所以，到了最后一节课时候，班里人数还不足第一节课时候的人数的一半，我觉得就是这个原因）。上完了二册（共36节课）以后，实际上，我的第二册学习还没完成，因为第四单元的课程讲得很快，还未来得及一一背诵，课程就已经结束了，因此有必要上完所有课程后，继续把没背诵的课文都背诵了，然后便开始中译英练习。看着每篇课文的中文，按自己的想法译成英文（这时候的我已经掌握了比较多的句型，已经可以从容地把简单句型改为复合句型了），再之后便挑选一些优美的课文进行英译中训练。当经过了这一段的二册学习后，我发觉听、说、读、写能力都有了质的飞跃，这种飞跃并不是一言两语就能表述清楚的，也只有学透了二册的学员，才可能领会这般的感悟。</p>
<p>2006年11月中旬，我便真正地进入了三册的课程学习。三册课程的起点要比二册高很多，老师也是全英文授课的，但由于我学透了二册后，才报读三册课程，于是我很快就适应了，而且我也暗暗庆幸一开始选择了报读新概念二册。如果我一开始就固执己见地报读三册的话，换来的肯定是对自我信心的成倍重挫，甚至作出一辈子远离英语的决定。在三册的学习中，我沿用了学习二册的方法。虽然三册的课文无论是篇幅还是难度都有很大程度的提升，但由于已经学透了二册，所以背诵起来并不觉得困难。</p>
<p>过完年以后，我报读了口语二级班，或许很多人感到不解，为什么背完新概念二册、三册后，还要去学习口语二级？因为我认为，口语和书面语的着重点不同，口语是生活化的，并非一味地提高难度，就能操一口生动的口语，所以，根据自身的情况，我决定从口语二级学起。就我而言，有了新概念英语打下的扎实基础，学习口语时候，我把精力更多的放在学习口语技巧，以及掌握西方人的思维模式，并且每天都坚持看《新英语900句》的VCD和一部英文电影，并且用英文复述《新英语900句》每一个小故事和电影的情节。这样，到了口语二级课程结束时，我的英语口语水平已经有了很大的提升。</p>
<p>此后，我面试了一家外企，并成功拿到了offer。</p>
<p>当然，并非每个人都得依照我的学习心得去提升英语水平，每个人所走的历程必然不同，我只是与大家分享一下自身的学习心得罢了。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2011/01/18/bad-writing-is-good-learn-it/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="haitian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://q1.qlogo.cn/g?b=qq&nk=493654134&s=5">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haitian的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/01/18/bad-writing-is-good-learn-it/" itemprop="url">写错都不错，学习下</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-01-18T13:20:23+08:00">
                2011-01-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/默认分类/" itemprop="url" rel="index">
                    <span itemprop="name">默认分类</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>一个满腹怨气的人没有人会喜欢。就算你真的受尽委屈，那也是你在成长的过程中经历的经验和教训。有的时候，隐忍不是忍气吞声，而是为了藏拙和藏锋。</p>
<p>当你走到最顶峰的时候，你会认为自己已经没有敌人了。那么请你小心，你最大的敌人即将出现，他就是你自己。这个世界上没有比自己更强大的敌人，他门拥有和你一样的才华一样的头脑一样的身材，但是我相信他门比你更了解你自己，战胜自己才是我门最后的目标。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2011/01/12/turn-talk-about-reciting-the-fourth-book-of-new-concept-english/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="haitian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://q1.qlogo.cn/g?b=qq&nk=493654134&s=5">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haitian的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/01/12/turn-talk-about-reciting-the-fourth-book-of-new-concept-english/" itemprop="url">(转)谈谈背诵新概念英语第四册历程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-01-12T19:26:29+08:00">
                2011-01-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/默认分类/" itemprop="url" rel="index">
                    <span itemprop="name">默认分类</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>看到大家那么热烈地讨论背诵新概念，不禁有一点凑凑热闹的冲动。</p>
<p>　　我本人学习英语新概念四已经有很多年了，从1997年把老版本的NC4作为阅读材料，到1999年5月决心背诵它，直到2004年才真正意义上的将NC4背熟（能把新版本48篇文章连续串背两个多小时背完，基本不出现大的错误）。历时有7，8年的光景。期间经历了多少的探索，苦闷辛酸，兴奋，激情，迷狂，淡泊，总之学习新概念的过程也是我对学习英语一个探索思考的过程进而也是我的对自我教育乃至整个人生一种感受至深、启我思考的体验。背诵新概念 4给我的一点点看得到得回报是，我的4、6级考试都是在没有专门进行考前训练的情况下考出了比较好的成绩，4级94，6级92分。研究生英语考试88分（用背NC4的方法，选背了朱泰祺老先生的考研复习指南，作过少量的真题）。真正的回报却远不止于此。由于时间关系，我不能谈得很详细，只能很简单地谈谈我背NC4的一点点历程。</p>
<p>　　1、最开始，1999年5月－8月。大跃进似的激情——打算三个月搞定NC4。实际上三个月过去了，真正背过的文章也只有10多篇，而随时能脱口而出的就仅有2、3篇了。大多背过的文章，都是模模糊糊不知所云了。那段时间具体投入的时间是很集中的，用的是李阳的方法，记得当时很多天晚上梦话都是背的英文，怎么效果会如此差呢？感觉打击太大。</p>
<p>　　2、1999－2001年，彷徨、怀疑的阶段。尝试了很多其他的方法，但学习焦点自问并没有聚在NC4上。也还在背NC4，但是，陷入了背了忘，忘了又背，背了后面忘了前面的怪圈。能够勉勉强强背下10多课，能随时脱口而出的仅有5，6篇。只有安慰自己，因为是工科学生，并没有太多时间花在英语上。</p>
<p>　　3、2002年，充满转机的一年。这年的寒假，即2002年2月我没回家在北京新东方学校学习GRE，说实在的GRE培训让我多多少少对新东方有些失望，但是在寒假的系列讲座却对我很有影响。第一，我发现江博在讲座中引背新概念四的几段还没有我背得熟，背得标准。对自己背新概念又有了些许的信心。第二，杜子华老师演讲时，讲了学英语的几大原则。对我很有启发，觉得背新概念四也需要以兴趣引导顺序。第三，俞敏洪演讲中提到的学习英语初期就是“精深远大于博大”。让我不得不反思，我在背NC4中是不是真正做到了。另外，北外的熊德兰教授，让我知道“课文”的真正涵义。钟道隆老师让我知道习惯的力量，还有听写是一种最不易疲劳的综合学习。（这里都不作展开讲）仔细研究NC4，发现内容也并不多，不过750句。按李阳的比较机械的方法，一天2句话一年也就搞定了。何况，每篇文章都是一个和谐统一的整体，逻辑结构都很严谨，文字又是琅琅上口，优美异常，相当多的文章还和现实生活息息相关，更易于记忆。经过一番思考，决定再下决心背诵NC4。并且规定自己，在这个较长的阶段学习英语就是简单的一件——背诵NC4,学习英语＝背诵NC4＋大量泛读自己想获得信息的英文资料。目标明确了，给自己一个最低的标准，即每天最少2句NC4的句子。</p>
<p>　　4、2003－2004年，完善方法的阶段。一位在新东方兼职作老师的同学与我聊到新概念四，我给他背了几课，觉得我确实比较熟。突然，他叫我把背过的文章一句一句翻译成中文，并讲解一番。我立马伸嘴结舌。每一句的意思都无比清楚，但是用中文恰如其分地翻译确实有很大问题。这时候，我才深切地体会到，学习NC4重在文化理解与文字翻译上。于是，在背诵的同时，仔细品味译文翻译，进行英汉快速互译，并且举一反三进行造句或者复述，再把它们用在日常生活中就变成我消化背诵的主要方法了（当然，这时我开始背诵中文译文了）。有趣的是，最终得出结论——“当教新概念四的英语老师”是促进你学习及活背NC4的最好方法。从这一点讲，“在新东方得到最大培养和提高的主要是教师而非学生”，这种评价我是深以为然的。又一次，新东方学员的新概念班结课时有一个背诵大赛，我碰巧观摩了一下，我发现能连续背诵5课以上的学员几乎没有。我自己试了试，也就能连续选背最熟的文章10多篇，其他的或多或需要复习一些时间。于是，开始了连续5课串背的训练。这样在2004年的10月终于有了连续串背整本书的成绩。死记是伴随着活用的，这样死记才会记的牢、记得有生命。活用没有死记，总归是无源之水，无根之木。如果没有那个“一”，又谈何举一反三，闻一而知十，一通百通，万法归一呢？广阔的生活空间就是你活用的场所是你体验的场所。在没有语言环境的情况下学习外语，“先死后活 ”的方法无疑是比较可行的“捷径”。</p>
<p>　　5、现在，背诵NC4已经不是最初所认识的那种——一个快捷的学习方法，已经切切实实成了我的一种生活方式。每天晚上是在背诵NC4的过程中昏昏入睡，起床时是在背诵NC4的激情中度过。在看落日时会情不自禁背诵“beauty”，当不得不面临必须要做的事情时对自己背一段“hobby”、“how to grow old”。在无数等车，坐车，闲暇的零碎时间，我可以根据自己的喜好选背一段NC4的文章。其实，时间已经过去7、8年了，也谈不上是什么快捷了。但一切都慢慢变得自然，变得没有刻意和偏执（让我又不得不想到11课）。并且我知道我这一生都会不断地背诵它、咀嚼它、品味它。学习英文的高一点的境界应该是，英文如同空气与水，你根本意识不到它的存在，但你无时无刻不在使用它，用它传递思想、情感、知识信息。并且使用的熟练程度和习惯与母语没有多大的区别。我们在这种环境中吗？我们在主动营造这种环境并尝试成为自己的生活方式吗？<br>　　现在想一想，有言道“读书先需识字”，NC4不过是碰巧成为那部英文识字书罢了。真正的读书道路还很长很长。建议听录音选择英版的，在你买《新概念》时配套的磁带就是英版，而且这是经典录音。我听的是美版的，但个人认为英版的好。除非你想学美式发音。<br>　　对于《新概念》的学习，首先要告诉你的是一定要下苦功夫，不能嫌烦，坚持下去。而且要从第一册开始学起，这样对于你以后的学习会有好处的。相对来说，第一册简单一些，基本上是一些日常对话，或者简单的叙述性短文。别看简单，如果你能脱口而出的话，就已经相当了不起了，而且，对于第二、三、四册的改写范文，能够打下坚实的基础。<br>　　背诵二、三、四册全文，理解性的去记忆，无须一字不落，你学英文的目的是为了能够表达思想，而不是单纯的背诵。机械式的背诵只能让你打击自信，失败得更快。要理解性的去背诵，当明白课文的意思时，就要学会去改写它，把范文中所有的文章改写为自己的事情，让自己成为第一人，而不是一个阅读者。这样，你的记忆才能深刻，才能积累语言，迅速的表达思想。书后的练习一定要做，同样也是改写成自己的事情，虚拟一个自己从未做过的事情也可以。只有理解性的 记忆才是自己真实拥有的，别“傻背”。<br>　　磁带要天天听，早、中、晚，各一次。就像你听流行歌曲一样，听多了，记忆自然就深刻了。刚开始，要逐词逐句的听，听出来的要默写出来，不要看书。利用词典去查每个单词的音标、注解。自己写出中文解释，不要看书。最后都写出来了，再和书上对照。准确无误后，就去跟随录音大声的朗读，直到语气、发音和录音相同为止。要保证听完的磁带每隔5－7天就重新听一遍。边听边跟着说。<br>　　每天不要过多的记忆，有5句话足以，多了什么也记不住，不要去考虑进度，当你对英语有了感觉后，速度是突飞猛进的。心不要太急，戒骄戒躁，就像一个人猛吸一口气，他可以跑得很快，但他永远跑不远。就是这个道理。<br>　　再背书时，每次都把要被的内容写出来，再和原书去对照，拿着你默写的去背。你的书翻得越少越好！磁带越多听越好。<br>　　不要平凡更换教材，如果你下决心学《新概念》了，就把它学到底。用不着4册都学完的时候，你就已经能够轻松阅读英文原著了。<br>　　平时还要多注意创造语言环境，只要有英文的就看，是英文的就听。这样量变才能达到质变。<br>　　开口说很重要，有朋友一起练更好，没有的话就自己唠叨，自己和自己对话。扮演书中的角色。<br>　　我在天涯里已经回复过很多怎么学英文的帖子了，你自己找找看，也许对你有所启示。要尽快总结一套适合自己学习的方法，这样才能更好地坚持学英文。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2011/01/08/seamlessly-upgrade-nginx-version/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="haitian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://q1.qlogo.cn/g?b=qq&nk=493654134&s=5">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haitian的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/01/08/seamlessly-upgrade-nginx-version/" itemprop="url">无缝升级nginx版本</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-01-08T22:35:11+08:00">
                2011-01-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/默认分类/" itemprop="url" rel="index">
                    <span itemprop="name">默认分类</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p># cd /usr/local/nginx/<br># sbin/nginx -V #查看版本<br>[root@vps nginx]# sbin/nginx -V<br>nginx version: nginx/0.7.65<br>built by gcc 4.1.2 20080704 (Red Hat 4.1.2-48)<br>TLS SNI support disabled<br>configure arguments: –user=www –group=www –prefix=/usr/local/nginx –with-http_stub_status_module –with-http_ssl_module  //注意这里的编译项<br># cd  </p>
<p>#wget <a href="http://www.nginx.org/download/nginx-0.8.53.tar.gz" target="_blank" rel="noopener">http://www.nginx.org/download/nginx-0.8.53.tar.gz</a>  </p>
<p>#tar zxvf nginx-0.8.53.tar.gz  </p>
<p>#cd nginx-0.8.53  </p>
<p>#./configure –user=www –group=www –prefix=/usr/local/nginx –with-http_stub_status_module –with-http_ssl_module  //按原来的选项configure  </p>
<p>#make    //注意只make  不要make install  </p>
<p>#mv /usr/local/nginx/sbin/nginx /usr/local/nginx/sbin/nginx.old  </p>
<p>#cd objs/  </p>
<p>#cp nginx /usr/local/nginx/sbin/  </p>
<p>#/usr/local/nginx/sbin/nginx -t  </p>
<p>#kill -USR2 `cat /usr/local/nginx/logs/nginx.pid`  </p>
<p>#kill -QUIT `cat /usr/local/nginx/logs/nginx.pid.oldbin`  </p>
<p>#/usr/local/nginx/sbin/nginx -v  </p>
<p>#cd ..  </p>
<p>#cd ..  </p>
<p>#rm -rf nginx-0.8.53  </p>
<p>#rm -rf nginx-0.8.53.tar.gz<br>最后重启nginx</p>
<p>或</p>
<p>一 重新安装下pcre</p>
<p>[root@datacenter sbin]# cd /home/php</p>
<p>[root@datacenter php]# tar xzvf  pcre-8.02.tar.gz</p>
<p>[root@datacenter php]# cd pcre-8.02</p>
<p>[root@datacenter pcre-8.02]# ./configure</p>
<p>[root@datacenter pcre-8.02]# make &amp;&amp; make install</p>
<p>[root@datacenter pcre-8.02]# cd ..</p>
<p>[root@datacenter php]# tar xzvf  nginx-0.8.37.tar.gz<br>[root@datacenter php]# cd nginx-0.8.37</p>
<p>[root@datacenter nginx-0.8.37]#./configure –prefix=/home/php/nginx –with-http_stub_status_module –with-pcre=/home/php/pcre-8.02 #查看nginx版本的时候直接复制configure arguments项</p>
<p>[root@datacenter nginx-0.8.37]# make</p>
<p>[root@datacenter nginx-0.8.37]# mv /home/php/nginx/sbin/nginx /home/php/nginx/sbin/nginx.old</p>
<p>[root@datacenter nginx-0.8.37]# cp objs/nginx /home/php/nginx/sbin</p>
<p>[root@datacenter nginx-0.8.37]# make upgrade</p>
<p>[root@datacenter nginx-0.8.37]# cd ../nginx/sbin</p>
<p>[root@datacenter nginx-0.8.37]# nginx -V</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2011/01/07/linux-proc-stat-calculates-cpu-utilization/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="haitian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://q1.qlogo.cn/g?b=qq&nk=493654134&s=5">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haitian的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/01/07/linux-proc-stat-calculates-cpu-utilization/" itemprop="url">linux下/proc/stat 计算CPU利用率</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-01-07T09:05:34+08:00">
                2011-01-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>一般来说对于需要大量cpu计算的进程，当前端压力越大时，CPU利用率越高。但对于I/O网络密集型的进程，即使请求很多，服务器的CPU也不一定很到，这时的服务瓶颈一般是在磁盘的I/O上。比较长见的就是，大文件频繁读写的cpu开销远小于小文件频繁读写的开销。因为在I/O吞吐量一定时，小文件的读写更加频繁，需要更多的cpu来处理I/O的中断。<br>在Linux/Unix下，CPU利用率分为用户态，系统态和空闲态，分别表示CPU处于用户态执行的时间，系统内核执行的时间，和空闲系统进程执行的时间。平时所说的CPU利用率是指：CPU执行非系统空闲进程的时间 / CPU总的执行时间。<br>在Linux的内核中，有一个全局变量：Jiffies。 Jiffies代表时间。它的单位随硬件平台的不同而不同。系统里定义了一个常数HZ，代表每秒种最小时间间隔的数目。这样jiffies的单位就是1/HZ。Intel平台jiffies的单位是1/100秒，这就是系统所能分辨的最小时间间隔了。每个CPU时间片，Jiffies都要加1。 CPU的利用率就是用执行用户态+系统态的Jiffies除以总的Jifffies来表示。<br>在Linux系统中，可以用/proc/stat文件来计算cpu的利用率(详细的解释可参考：<a href="http://www.linuxhowtos.org/System/procstat.htm" target="_blank" rel="noopener">http://www.linuxhowtos.org/System/procstat.htm</a>)。这个文件包含了所有CPU活动的信息，该文件中的所有值都是从系统启动开始累计到当前时刻。<br>如：  </p>
<p>[sailorhzr@builder ~]$ cat /proc/stat<br>cpu 432661 13295 86656 422145968 171474 233 5346<br>cpu0 123075 2462 23494 105543694 16586 0 4615<br>cpu1 111917 4124 23858 105503820 69697 123 371<br>cpu2 103164 3554 21530 105521167 64032 106 334<br>cpu3 94504 3153 17772 105577285 21158 4 24<br>intr 1065711094 1057275779 92 0 6 6 0 4 0 3527 0 0 0 70 0 20 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 7376958 0 0 0 0 0 0 0 1054602 0 0 0 0 0 0 0 30 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0<br>ctxt 19067887<br>btime 1139187531<br>processes 270014<br>procs_running 1<br>procs_blocked 0</p>
<p>输出解释<br>CPU 以及CPU0、CPU1、CPU2、CPU3每行的每个参数意思（以第一行为例）为：<br>参数 解释<br>user (432661) 从系统启动开始累计到当前时刻，用户态的CPU时间（单位：jiffies） ，不包含 nice值为负进程。1jiffies=0.01秒<br>nice (13295) 从系统启动开始累计到当前时刻，nice值为负的进程所占用的CPU时间（单位：jiffies）<br>system (86656) 从系统启动开始累计到当前时刻，核心时间（单位：jiffies）<br>idle (422145968) 从系统启动开始累计到当前时刻，除硬盘IO等待时间以外其它等待时间（单位：jiffies）<br>iowait (171474) 从系统启动开始累计到当前时刻，硬盘IO等待时间（单位：jiffies） ，<br>irq (233) 从系统启动开始累计到当前时刻，硬中断时间（单位：jiffies）<br>softirq (5346) 从系统启动开始累计到当前时刻，软中断时间（单位：jiffies）<br>CPU时间=user+system+nice+idle+iowait+irq+softirq<br>“intr”这行给出中断的信息，第一个为自系统启动以来，发生的所有的中断的次数；然后每个数对应一个特定的中断自系统启动以来所发生的次数。<br>“ctxt”给出了自系统启动以来CPU发生的上下文交换的次数。<br>“btime”给出了从系统启动到现在为止的时间，单位为秒。<br>“processes (total_forks) 自系统启动以来所创建的任务的个数目。<br>“procs_running”：当前运行队列的任务的数目。<br>“procs_blocked”：当前被阻塞的任务的数目。<br>那么CPU利用率可以使用以下两个方法。先取两个采样点，然后计算其差值：  </p>
<p>cpu usage=(idle2-idle1)/(cpu2-cpu1)<em>100<br>cpu usage=[(user_2 +sys_2+nice_2) - (user_1 + sys_1+nice_1)]/(total_2 - total_1)</em>100</p>
<p>以下用分别用bash和perl做的一个cpu利用率的计算：<br>本人注:以下代码则采用公式为:  </p>
<p>total_0USER[0]+NICE[0]+SYSTEM[0]+IDLE[0]+IOWAIT[0]+IRQ[0]+SOFTIRQ[0]<br>total_1=USER[1]+NICE[1]+SYSTEM[1]+IDLE[1]+IOWAIT[1]+IRQ[1]+SOFTIRQ[1]<br>cpu usage=(IDLE[0]-IDLE[1]) / (total_0-total_1) * 100</p>
<p>###bash 代码(本人提供.可用)  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh  </span><br><span class="line">##echo user nice system idle iowait irq softirq  </span><br><span class="line">CPULOG_1=$(cat /proc/stat | grep &apos;cpu &apos; | awk &apos;&#123;print $2&quot; &quot;$3&quot; &quot;$4&quot; &quot;$5&quot; &quot;$6&quot; &quot;$7&quot; &quot;$8&#125;&apos;)  </span><br><span class="line">SYS\_IDLE\_1=$(echo $CPULOG_1 | awk &apos;&#123;print $4&#125;&apos;)  </span><br><span class="line">Total\_1=$(echo $CPULOG\_1 | awk &apos;&#123;print $1+$2+$3+$4+$5+$6+$7&#125;&apos;)  </span><br><span class="line">sleep 5  </span><br><span class="line">CPULOG_2=$(cat /proc/stat | grep &apos;cpu &apos; | awk &apos;&#123;print $2&quot; &quot;$3&quot; &quot;$4&quot; &quot;$5&quot; &quot;$6&quot; &quot;$7&quot; &quot;$8&#125;&apos;)  </span><br><span class="line">SYS\_IDLE\_2=$(echo $CPULOG_2 | awk &apos;&#123;print $4&#125;&apos;)  </span><br><span class="line">Total\_2=$(echo $CPULOG\_2 | awk &apos;&#123;print $1+$2+$3+$4+$5+$6+$7&#125;&apos;)  </span><br><span class="line">SYS\_IDLE=\`expr $SYS\_IDLE\_2 - $SYS\_IDLE_1\`  </span><br><span class="line">Total=\`expr $Total\_2 - $Total\_1\`  </span><br><span class="line">SYS\_USAGE=\`expr $SYS\_IDLE/$Total*100 |bc -l\`  </span><br><span class="line">SYS\_Rate=\`expr 100-$SYS\_USAGE |bc -l\`  </span><br><span class="line">Disp\_SYS\_Rate=\`expr &quot;scale=3; $SYS_Rate/1&quot; |bc\`  </span><br><span class="line">echo $Disp\_SYS\_Rate%</span><br></pre></td></tr></table></figure>
<p>###perl 代码(网友提供.可用)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/perl  </span><br><span class="line">use warnings;  </span><br><span class="line">$SLEEPTIME=5;  </span><br><span class="line">if (-e &quot;/tmp/stat&quot;) &#123;  </span><br><span class="line">unlink &quot;/tmp/stat&quot;;  </span><br><span class="line">&#125;  </span><br><span class="line">open (JIFF_TMP, &quot;&gt;&gt;/tmp/stat&quot;) || die &quot;Can&apos;t open /proc/stat file!\\n&quot;;  </span><br><span class="line">open (JIFF, &quot;/proc/stat&quot;) || die &quot;Can&apos;t open /proc/stat file!\\n&quot;;  </span><br><span class="line">@jiff_0=&lt;JIFF&gt;;  </span><br><span class="line">print JIFF\_TMP $jiff\_0[0] ;  </span><br><span class="line">close (JIFF);  </span><br><span class="line">sleep $SLEEPTIME;  </span><br><span class="line">open (JIFF, &quot;/proc/stat&quot;) || die &quot;Can&apos;t open /proc/stat file!\\n&quot;;  </span><br><span class="line">@jiff_1=&lt;JIFF&gt;;  </span><br><span class="line">print JIFF\_TMP $jiff\_1[0];  </span><br><span class="line">close (JIFF);  </span><br><span class="line">close (JIFF_TMP);  </span><br><span class="line">@USER=\`awk &apos;&#123;print \\$2&#125;&apos; &quot;/tmp/stat&quot;\`;  </span><br><span class="line">@NICE=\`awk &apos;&#123;print \\$3&#125;&apos; &quot;/tmp/stat&quot;\`;  </span><br><span class="line">@SYSTEM=\`awk &apos;&#123;print \\$4&#125;&apos; &quot;/tmp/stat&quot;\`;  </span><br><span class="line">@IDLE=\`awk &apos;&#123;print \\$5&#125;&apos; &quot;/tmp/stat&quot;\`;  </span><br><span class="line">@IOWAIT=\`awk &apos;&#123;print \\$6&#125;&apos; &quot;/tmp/stat&quot;\`;  </span><br><span class="line">@IRQ=\`awk &apos;&#123;print \\$7&#125;&apos; &quot;/tmp/stat&quot;\`;  </span><br><span class="line">@SOFTIRQ=\`awk &apos;&#123;print \\$8&#125;&apos; &quot;/tmp/stat&quot;\`;  </span><br><span class="line">$JIFF_0=$USER[0]+$NICE[0]+$SYSTEM[0]+$IDLE[0]+$IOWAIT[0]+$IRQ[0]+$SOFTIRQ[0];  </span><br><span class="line">$JIFF_1=$USER[1]+$NICE[1]+$SYSTEM[1]+$IDLE[1]+$IOWAIT[1]+$IRQ[1]+$SOFTIRQ[1];  </span><br><span class="line">$SYS\_IDLE=($IDLE[0]-$IDLE[1]) / ($JIFF\_0-$JIFF_1) * 100;  </span><br><span class="line">$SYS\_USAGE=100 - $SYS\_IDLE;  </span><br><span class="line">printf (&quot;The CPU usage is %1.2f%%\\n&quot;,$SYS_USAGE);</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2011/01/07/proc-pid-stat-file-explain/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="haitian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://q1.qlogo.cn/g?b=qq&nk=493654134&s=5">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haitian的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/01/07/proc-pid-stat-file-explain/" itemprop="url">/proc/[pid]/stat 文件解释</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-01-07T08:48:10+08:00">
                2011-01-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>[root@localhost ~]# cat /proc/6873/stat<br>6873 (a.out) R 6723 6873 6723 34819 6873 8388608 77 0 0 0 41958 31 0 0 25 0 3 0 5882654 1409024 56 4294967295 134512640 134513720 3215579040 0 2097798 0 0 0 0 0 0 0 17 0 0 0 [root@localhost ~]#</p>
<p>每个参数意思为：<br>参数 解释<br>pid=6873 进程(包括轻量级进程，即线程)号<br>comm=a.out 应用程序或命令的名字<br>task_state=R 任务的状态，R:runnign, S:sleeping (TASK_INTERRUPTIBLE), D:disk sleep (TASK_UNINTERRUPTIBLE), T: stopped, T:tracing stop,Z:zombie, X:dead<br>ppid=6723 父进程ID<br>pgid=6873 线程组号<br>sid=6723 c该任务所在的会话组ID<br>tty_nr=34819(pts/3) 该任务的tty终端的设备号，INT（34817/256）=主设备号，（34817-主设备号）=次设备号<br>tty_pgrp=6873 终端的进程组号，当前运行在该任务所在终端的前台任务(包括shell 应用程序)的PID。<br>task-&gt;flags=8388608 进程标志位，查看该任务的特性<br>min_flt=77 该任务不需要从硬盘拷数据而发生的缺页（次缺页）的次数<br>cmin_flt=0 累计的该任务的所有的waited-for进程曾经发生的次缺页的次数目<br>maj_flt=0 该任务需要从硬盘拷数据而发生的缺页（主缺页）的次数<br>cmaj_flt=0 累计的该任务的所有的waited-for进程曾经发生的主缺页的次数目<br>utime=1587 该任务在用户态运行的时间，单位为jiffies<br>stime=1 该任务在核心态运行的时间，单位为jiffies<br>cutime=0 累计的该任务的所有的waited-for进程曾经在用户态运行的时间，单位为jiffies<br>cstime=0 累计的该任务的所有的waited-for进程曾经在核心态运行的时间，单位为jiffies<br>priority=25 任务的动态优先级<br>nice=0 任务的静态优先级<br>num_threads=3 该任务所在的线程组里线程的个数<br>it_real_value=0 由于计时间隔导致的下一个 SIGALRM 发送进程的时延，以 jiffy 为单位.<br>start_time=5882654 该任务启动的时间，单位为jiffies<br>vsize=1409024（page） 该任务的虚拟地址空间大小<br>rss=56(page) 该任务当前驻留物理地址空间的大小<br>Number of pages the process has in real memory,minu 3 for administrative purpose.<br>这些页可能用于代码，数据和栈。<br>rlim=4294967295（bytes） 该任务能驻留物理地址空间的最大值<br>start_code=134512640 该任务在虚拟地址空间的代码段的起始地址<br>end_code=134513720 该任务在虚拟地址空间的代码段的结束地址<br>start_stack=3215579040 该任务在虚拟地址空间的栈的结束地址<br>kstkesp=0 esp(32 位堆栈指针) 的当前值, 与在进程的内核堆栈页得到的一致.<br>kstkeip=2097798 指向将要执行的指令的指针, EIP(32 位指令指针)的当前值.<br>pendingsig=0 待处理信号的位图，记录发送给进程的普通信号<br>block_sig=0 阻塞信号的位图<br>sigign=0 忽略的信号的位图<br>sigcatch=082985 被俘获的信号的位图<br>wchan=0 如果该进程是睡眠状态，该值给出调度的调用点<br>nswap 被swapped的页数，当前没用<br>cnswap 所有子进程被swapped的页数的和，当前没用<br>exit_signal=17 该进程结束时，向父进程所发送的信号<br>task_cpu(task)=0 运行在哪个CPU上<br>task_rt_priority=0 实时进程的相对优先级别<br>task_policy=0 进程的调度策略，0=非实时进程，1=FIFO实时进程；2=RR实时进程</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2011/01/06/good-night-2010-suchalin-s-2010-album/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="haitian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://q1.qlogo.cn/g?b=qq&nk=493654134&s=5">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haitian的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/01/06/good-night-2010-suchalin-s-2010-album/" itemprop="url">晚安，2010 - suchalin的2010纪念册</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-01-06T09:31:37+08:00">
                2011-01-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/默认分类/" itemprop="url" rel="index">
                    <span itemprop="name">默认分类</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2011/01/06/linux-is-replacing-running-programs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="haitian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://q1.qlogo.cn/g?b=qq&nk=493654134&s=5">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haitian的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2011/01/06/linux-is-replacing-running-programs/" itemprop="url">Linux下替换运行中的程序</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2011-01-06T09:26:31+08:00">
                2011-01-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>今天被朋友问及“Linux下可以替换运行中的程序么？”，以前依稀记得Linux下是可以的（而Windows就不让），于是随口答道“OK”。结果朋友发来一个执行结果：（test正在运行中）</p>
<p># cp test2 test  cp: cannot create regular file `test’: Text file busy</p>
<p>看起来是程序被占用，无法覆盖。于是自己又再做了几个实验：</p>
<p>（1）先rm删除正在运行的test，然后cp test2 test就没有错误了。<br>（2）先mv改名正在运行的test，然后cp test2 test也没有问题。</p>
<p>查了查资料并动手分析了一下，找到了比较满意的解释。cp并不改变目标文件的inode，事实上它的实现是这样的：</p>
<p># strace cp test2 test  2&gt;&amp;1 | grep open.*test  open(“test2”, O_RDONLY|O_LARGEFILE)        = 3  open(“test”, O_WRONLY|O_TRUNC|O_LARGEFILE) = 4</p>
<p>//O_TRUNC        如果文件存在，并且以只写/读写方式打开，则清空文件全部内容</p>
<p>我原以为cp的实现是“rm + open(O_CREAT)”，不过现在想想上面的实现方式才是最可靠的（保证了时序安全和目标文件的属性）。这也可以解释为什么cp的目标文件会继承被覆盖文件的属性而非源文件。</p>
<p>Linux由于Demand Paging机制的关系，必须确保正在运行中的程序镜像（注意，并非文件本身）不被意外修改，因此内核在启动程序后会锁定这个程序镜像的inode。这就是为什么cp在用“O_WRONLY|O_TRUNC”模式open目标文件时会失败。而先rm再cp的话，新文件的inode其实已经改变了，原inode并没有被真正删除，直到内核释放对它的引用。同理，mv只是改变了文件名，其inode不变，新文件使用了新的inode。</p>
<p>问题到这里已经水落石出，不过刨根究底的个性驱使我再做了以下一组实验，没想到结果完全出乎我意料之外！</p>
<p>写了一个简单的测试程序：</p>
<p>#include &lt;stdio.h&gt;    int main(int argc, char * argv[])  {      foo();  // An export function by libtest.so.      sleep(1000);      return 0;  }</p>
<p>foo()是另一个测试动态库libtest.so的导出接口，只打印一行提示就返回。接下来我把上面对执行文件的测试用例对动态库又做了一遍：</p>
<p>（1）cp libtest2.so libtest.so可以直接覆盖已加载的动态库。<br>（2）先rm删除已加载的libtest.so，然后cp libtest2.so libtest.so成功。<br>（3）先mv改名已加载的libtest.so，然后cp libtest2.so libtest.so成功。</p>
<p>除了第一个用例外，结果相同。这样看来，动态库被加载时难道ld并没有锁定inode？不过想想也可以宽恕，毕竟ld也是用户态程序，没有权利去锁定inode，也不应与内核的文件系统底层实现耦合。</p>
<p>到这里都还算在情理之中，看起来Linux也都处理的很好。不过还剩下一个问题：动态库被以cp的方式覆盖后难道不会和Demand Paging机制产生冲突？</p>
<p>在思考这个问题的过程中，我意识到前面这个测试程序的一个致命漏洞，稍作修改如下：</p>
<p>#include &lt;stdio.h&gt;    int main(int argc, char * argv[])  {  loop:      foo();  // An export function by libtest.so.      sleep(1);      goto loop;      return 0;  }</p>
<p>这次，再执行上面的三个用例后发现，“cp libtest2.so libtest.so”虽然仍可直接覆盖已加载的动态库，但是测试程序马上出现了“Segmentation fault”。而后两个用例结果不变。由此可见，想要安全的替换已加载的动态库，还是用“笨拙”的“rm + cp”吧，看似捷径的“cp覆盖”会直接葬送掉你的程序……</p>
<p>看来，我再一次低估了Linux的健壮性，看似符合逻辑的流程也可能会带来灾难性的后果；“rm &amp; cp”与“cp覆盖”背后所隐藏的底层差异却可以成为你的救星。Linux用得越久越是让人觉得这是一块充满了荆棘和陷阱的原始丛林，只有步步为营实踏前行才能走的更远。</p>
<p>注：以上实验基于SuSE Linux Enterprise Server 9 SP1（Linux 2.6.5 &amp; glibc 2.3.3）。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2010/12/30/the-timestamp-conversion-command-in-linux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="haitian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://q1.qlogo.cn/g?b=qq&nk=493654134&s=5">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haitian的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2010/12/30/the-timestamp-conversion-command-in-linux/" itemprop="url">Linux中时间戳转换命令</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2010-12-30T11:56:48+08:00">
                2010-12-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>1、时间戳转换为正常显示的时间格式  </p>
<p>Freebsd系统下：</p>
<p>转换命令为：date -r 1112173761     或者：date -r 1112173761 +”%Y-%m-%d %T %z”（年月日的格式不一样）</p>
<p>Linux系统下：</p>
<p>转换命令：date -d ‘1970-01-01 UTC 1112173761 seconds’”  或者 date -d ‘1970-01-01 UTC 1112173761 seconds’ +”%Y-%m-%d %T %z” （年月日格式不一样）</p>
<p>时间戳转换为正常显示的时间格式，问题解决了，那么如何把我们正常的时间格式转为时间戳呢</p>
<p>2、正常显示的时间格式转换为时间戳  </p>
<p>php把当前时间转换为时间戳 </p>
<p>php -r “echo(mktime());”</p>
<p>这里需要说下，使用php的时候，如果不想每次都在文件中编写执行，就是用php -r命令，就把后面的脚本执行了。</p>
<p>php把未来某天的时间转为时间戳</p>
<p>php -r “echo(strtotime(‘+2 days’));”     //把后天的时间转为时间戳</p>
<p>我测试的系统需要把过期时间比较久，那么至少要在我测试完系统才要他过期，不需要每次时间到了又要更换过期时间，我就把过期时间设为100天，执行命令如下：</p>
<p>php -r “echo(strtotime(‘+100 days’));”</p>
<p>Linux、FreeBsd系统当前时间转换为时间戳：</p>
<p>date +%s</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2010/12/30/printk-x-messages-suppressed/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="haitian">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://q1.qlogo.cn/g?b=qq&nk=493654134&s=5">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="haitian的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2010/12/30/printk-x-messages-suppressed/" itemprop="url">printk X messages suppressed</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2010-12-30T11:37:58+08:00">
                2010-12-30
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/linux/" itemprop="url" rel="index">
                    <span itemprop="name">linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>X为自然数</p>
<p>echo 0 &gt; /proc/sys/kernel/printk_ratelimit</p>
<p>由于某些原因，频繁设置循环调用某个printk的语句，将会造成CPU的拥堵，如果输入终端是慢速，就会造成拥堵，我们也不可能从这种狂刷屏幕上读取到什么有效信息，基本上就看不清。内核编程提供了一下保护机制。下面是一个测试的例子：  </p>
<p>1 for (i = 0 ; i &lt; 1000; i ++){<br>2    if(printk_ratelimit()){<br>3        printk(KERN_DEBUG “Test for ratelimte i = %d j = %d\n”,i ,++j);<br>4    }<br>5 }<br>6 printk(KERN_NOTICE “After Test i = %d j = %d\n”,i , j);  </p>
<p>printk_ratelimit()根据打印的频繁程度返回的一个值，根据这个值我们决定是否将debug信息打印出来。这个返回值取决于两个因素，分别定义在<br>/proc/sys/kernel/printk_ratelimit<br>/proc/sys/kernel/printk_ratelimit_burst<br>前者表示当这个值置为0后隔多少秒后恢复为1，即等待允许再次打印的时间（秒），后者可能和缓存队列长度有关，他表示在值为0之前，可以printk的条目数。系统缺省值为5和10，也就是在printk_ratelimit()的控制下，每秒可以有两个输出。在上面的例子，我们看到输出了10次。我想象的处理机制是，系统根据printk_ratelimit_burst的值设置一个队列长度，如果这个队列满，则值printk_ratelimit()为0，禁止新的消息加入队列，等待printk_ratelimit秒设定的时间，将 printk_ratelimit()设为1，即允许新的消息加入队列。这种方式我曾用于处理业务请求，设定允许接纳请求的频率，避免burst的出现。我猜想这里面的机制也是类似的。不管如何，这是一种看行之有效的方法。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/6/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><span class="space">&hellip;</span><a class="page-number" href="/page/28/">28</a><a class="extend next" rel="next" href="/page/8/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="http://q1.qlogo.cn/g?b=qq&nk=493654134&s=5"
                alt="haitian" />
            
              <p class="site-author-name" itemprop="name">haitian</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">278</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">分类</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">164</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">haitian</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
